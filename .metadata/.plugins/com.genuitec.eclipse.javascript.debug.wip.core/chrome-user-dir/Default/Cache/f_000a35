!function e(t,i,n){function r(s,a){if(!i[s]){if(!t[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var u=i[s]={exports:{}};t[s][0].call(u.exports,function(e){var i=t[s][1][e];return r(i?i:e)},u,u.exports,e,t,i,n)}return i[s].exports}for(var o="function"==typeof require&&require,s=0;s<n.length;s++)r(n[s]);return r}({1:[function(require,module,exports){"use strict";var Util=require("../util/Util.js"),DomUtil=require("../util/DomUtil.js"),DebugDriver=function(e,t,i){this.eventHandler=e,this.config=t,this.kitchenSink=i,this.capabilities={console:Util.isDefined(window.console),postMsg:Util.isDefined(window.postMessage)},e.registerListener(this);try{var n=this;DomUtil.addEventListener(window,"message",function(e){n.handleExternalDebugMessage(e)})}catch(r){}};DebugDriver.msgPrefix="ppv_",DebugDriver.prototype={handleExternalDebugMessage:function handleExternalDebugMessage(externalMessage){try{externalMessage.data.type===DebugDriver.msgPrefix+"debug"&&externalMessage.data.target===this.kitchenSink.config.instance+"-"+this.kitchenSink.config.elementId&&eval(externalMessage.data.payload)}catch(ignore){}},handle:function(e){if(this.config.enabled&&(this.capabilities.console&&console.log(e.type+" "+e.trigger+" "+e.timeStamp),this.capabilities.postMsg))try{window.top.postMessage({id:this.kitchenSink.config.instance+"-"+this.kitchenSink.config.elementId,type:DebugDriver.msgPrefix,appEvent:e},"*")}catch(t){}}},module.exports=DebugDriver},{"../util/DomUtil.js":11,"../util/Util.js":14}],2:[function(e,t,i){"use strict";var n=e("../util/DomUtil.js"),r=e("../util/Util.js"),o=e("../event/AppEvent.js"),s=function(e,t){this.adElement=t,this.eventHandler=e;var i=this;r.each(["scroll","focus","load","blur","resize"],function(e){n.addEventListener(window,e,function(){i.checkVisibility(e)})}),e.registerListener(function(e){o.Type.PAGE_VISIBLE===e.type&&i.checkVisibility("page-visible-event")}),this.checkVisibility("init")};s.minVisibilityFraction=.5,s.triggerPrefix="dom-",s.prototype={checkVisibility:function(e){this.eventHandler.handle(n.getElementInViewPercentage(this.adElement)>s.minVisibilityFraction?new o(o.Type.AD_VISIBLE,s.triggerPrefix+e):new o(o.Type.AD_NOT_VISIBLE,s.triggerPrefix+e))}},t.exports=s},{"../event/AppEvent.js":7,"../util/DomUtil.js":11,"../util/Util.js":14}],3:[function(e,t,i){"use strict";var n=e("../util/Util.js"),r=e("../util/DomUtil.js"),o=e("../event/AppEvent.js"),s=(e("../event/AppEventHandler.js"),function(e,t,i){this.eventHandler=e,this.config=i,this.useResizeEvents=!1,this.onlyUseThrottleEvents=!1;var n=r.detectBrowserType(),s=r.getElementPosition(t),a=r.getElementSize(t);"windows"===n.os&&"firefox"===n.browserType&&this.eventHandler.handle(new o(o.Type.ERROR,"flash-fps-inaccurate")),this.placeBeacon({left:s.left-1+a.width/2,top:s.top-1+a.height/2})});s.counter=0,s.callbackPrefix="ppcb_",s.elementPrefix="ppcb_",s.pixelSize="1",s.swfContainerPosition="absolute",s.swfContainerZindex="firefox"===r.detectBrowserType().browserType?"9999":"-9999",s.prototype={getObjectMarkup:function(e){return'<object id="DisplayBeacon_IE_'+e.id+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="'+e.width+'" height="'+e.height+'"><param name="movie" value="'+e.url+'" /><param name="quality" value="low" /><param name="hasPriority" value="true" /><param name="flashvars" value="callback='+e.callback+'" /><param name="bgcolor" value="#ff0000" /><param name="wmode" value="transparent" /><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="false" /><!--[if !IE]>--><object id="DisplayBeacon_'+e.id+'" type="application/x-shockwave-flash" data="'+e.url+'" width="'+e.width+'" height="'+e.height+'"><param name="quality" value="low" /><param name="hasPriority" value="true" /><param name="flashvars" value="callback='+e.callback+'" /><param name="bgcolor" value="#ff0000" /><param name="wmode" value="transparent" /><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="false" /></object><!--<![endif]--></object>'},generateId:function(){return s.counter+=1,s.counter},placeBeacon:function(e){var t=s.elementPrefix+this.generateId(),i=r.createDomElement("div",{id:t,style:{position:s.swfContainerPosition,width:s.pixelSize+"px",height:s.pixelSize+"px",left:e.left+"px",top:e.top+"px",zIndex:s.swfContainerZindex}}),a=null,l=1,c=null,u=null,p=0,f=s.callbackPrefix+t,h=this,d=r.getRootDomElement();window[f]=function(e,i){var r=document.getElementById("DisplayBeacon_"+t);n.isDefined(a)&&(clearTimeout(a),a=void 0),n.isDefined(r)&&(r.style.width=2,r.style.width=1),h.handleFlashEvent(e,i)},i.innerHTML=this.getObjectMarkup({width:s.pixelSize,height:s.pixelSize,url:this.config.displayBeaconURL,callback:f,id:t}),d.insertBefore(i,d.firstChild),a=setTimeout(function(){h.eventHandler.handle(new o(o.Type.ERROR,"flash-timeout"))},this.config.flashInitTimeout),u=setInterval(function(){n.isDefined(c)||(c=document.getElementById("DisplayBeacon_IE_"+t)),l=1===l?2:1;try{c.style.width=l,c.width=l,c.jsResizeEvent()}catch(e){p+=1,p>10&&clearInterval(u)}},200)},handleFlashEvent:function(e,t){"init"===e?this.eventHandler.handle(new o(o.Type.LOG,"flash-init",t)):"fpsIncr"!==e||this.useResizeEvents||this.onlyUseThrottleEvents?"fpsDecr"!==e||this.useResizeEvents||this.onlyUseThrottleEvents?"throttle"===e?(this.onlyUseThrottleEvents=!0,"throttle"===t?this.eventHandler.handle(new o(o.Type.AD_NOT_VISIBLE,"flash-throttle-throttled")):"pause"===t?this.eventHandler.handle(new o(o.Type.AD_NOT_VISIBLE,"flash-throttle-paused")):"resume"===t&&this.eventHandler.handle(new o(o.Type.AD_VISIBLE,"flash-throttle-resumed"))):"rapidResize"===e&&(this.useResizeEvents=!0,"start"===t?this.eventHandler.handle(new o(o.Type.AD_VISIBLE,"flash-resize-start")):"stop"===t&&this.eventHandler.handle(new o(o.Type.AD_NOT_VISIBLE,"flash-resize-stop"))):this.eventHandler.handle(new o(o.Type.AD_NOT_VISIBLE,"flash-fps-decrease")):this.eventHandler.handle(new o(o.Type.AD_VISIBLE,"flash-fps-increase"))}},t.exports=s},{"../event/AppEvent.js":7,"../event/AppEventHandler.js":8,"../util/DomUtil.js":11,"../util/Util.js":14}],4:[function(e,t,i){"use strict";var n=e("../util/DomUtil.js"),r=e("../util/Util.js"),o=e("../event/AppEvent.js"),s=function(e,t){var i="dom-int-",r=this;n.addEventListener(t,"mouseover",function(t){e.handle(new o(o.Type.MOUSE_OVER,i+"mouseover",r.makeEventData(t)))}),n.addEventListener(t,"mouseout",function(t){e.handle(new o(o.Type.MOUSE_OUT,i+"mouseout",r.makeEventData(t)))}),n.addEventListener(t,"mousedown",function(t){e.handle(new o(o.Type.MOUSE_DOWN,i+"mousedown",r.makeEventData(t)))}),n.addEventListener(t,"mouseup",function(t){e.handle(new o(o.Type.MOUSE_UP,i+"mouseup",r.makeEventData(t)))}),n.addEventListener(t,"touchstart",function(t){e.handle(new o(o.Type.TOUCH_START,i+"touchstart",r.makeEventData(t)))}),n.addEventListener(t,"touchend",function(t){e.handle(new o(o.Type.TOUCH_END,i+"touchend",r.makeEventData(t)))})};s.prototype={makeEventData:function(e){return r.isDefined(e)?{x:e.clientX,y:e.clientY}:{x:-1,y:-1}}},t.exports=s},{"../event/AppEvent.js":7,"../util/DomUtil.js":11,"../util/Util.js":14}],5:[function(e,t,i){"use strict";var n=e("../util/Util.js"),r=e("../util/DomUtil.js"),o=e("../event/AppEvent.js"),s=function(e){this.capabilities=this.getCapabilities(),this.eventHandler=e;var t=this;n.isDefined(this.capabilities)&&n.isDefined(document[this.capabilities.hiddenAttrName])?(r.addEventListener(document,this.capabilities.visibilityChangeEventName,function(){t.handleVisibilityChange()}),this.handleVisibilityChange()):e.handle(new o(o.Type.LOG,"page-visibility-API not supported"))};s.triggerName="page-visibility",s.prototype={handleVisibilityChange:function(){var e=document[this.capabilities.hiddenAttrName]?o.Type.PAGE_NOT_VISIBLE:o.Type.PAGE_VISIBLE;this.eventHandler.handle(new o(e,s.triggerName))},getCapabilities:function(){var e,t=[["hidden","visibilitychange"],["mozHidden","mozvisibilitychange"],["msHidden","msvisibilitychange"],["webkitHidden","webkitvisibilitychange"]];for(e=0;e<t.length;e+=1)if(n.isDefined(document[t[e][0]]))return{hiddenAttrName:t[e][0],visibilityChangeEventName:t[e][1]}}},t.exports=s},{"../event/AppEvent.js":7,"../util/DomUtil.js":11,"../util/Util.js":14}],6:[function(e,t,i){"use strict";var n=e("../util/Util.js"),r=e("../util/NetUtil.js"),o=e("../util/DomUtil.js"),s=(e("../event/AppEvent.js"),e("../util/Compressor.js")),a=e("json3"),l=function(e,t,i){this.eventHandler=e,this.appConfig=t,this.reportDestination=i,this.reportSent=!1,this.maxLogSize=150,this.compressor=new s;var r=this;n.each(["close","unload","beforeunload","pagehide"],function(e){o.addEventListener(window,e,function(){r.sendReport()})})};l.prototype={sendReport:function(){if(!this.reportSent){var e={config:this.appConfig,aggregates:{sessionTime:this.eventHandler.close()},log:this.eventHandler.eventLog.slice(0,this.maxLogSize)};n.each(this.eventHandler.eventCounters,function(t,i){e.aggregates[i]=t.count}),r.issueCrossDomainGet(this.reportDestination+"?q="+this.compressor.compress(a.stringify(e))),this.reportSent=!0}}},t.exports=l},{"../event/AppEvent.js":7,"../util/Compressor.js":10,"../util/DomUtil.js":11,"../util/NetUtil.js":12,"../util/Util.js":14,json3:15}],7:[function(e,t,i){"use strict";var n=function(e,t,i){this.type=e,this.trigger=t,this.data=i};n.Type={AD_VISIBLE:"ad-visible",AD_NOT_VISIBLE:"ad-not-visible",PAGE_VISIBLE:"page-visible",PAGE_NOT_VISIBLE:"page-not-visible",MOUSE_OVER:"mouse-over",MOUSE_OUT:"mouse-out",MOUSE_DOWN:"mouse-down",MOUSE_UP:"mouse-up",TOUCH_START:"touch-start",TOUCH_END:"touch-end",ERROR:"error",LOG:"log"},t.exports=n},{}],8:[function(e,t,i){"use strict";var n=e("../util/Util.js"),r=e("./EventCounter.js"),o=e("./AppEvent.js"),s=function(e){this.stopWatch=e,this.eventLog=[],this.listeners=[];var t=this,i=function(){this.count=[]};i.prototype={handle:function(e){e.type===o.Type.ERROR&&this.count.push(e.trigger)},close:function(){return!0}},this.eventCounters={pageInView:new r({positiveTrigger:function(e){return e.type===o.Type.PAGE_VISIBLE},negativeTrigger:function(e){return e.type===o.Type.PAGE_NOT_VISIBLE}}),adInView:new r({positiveTrigger:function(e){var i=t.eventCounters.pageInView.lastPositiveEvent;return null!==i&&(e.type===o.Type.AD_VISIBLE||e.type===o.Type.MOUSE_OVER)},negativeTrigger:function(e,t){return e.type===o.Type.AD_NOT_VISIBLE||e.type===o.Type.PAGE_NOT_VISIBLE||e.type===o.Type.MOUSE_OUT&&null!==t&&void 0!==t&&t.type===o.Type.MOUSE_OVER}}),adHover:new r({positiveTrigger:function(e){return e.type===o.Type.MOUSE_OVER},negativeTrigger:function(e){return e.type===o.Type.MOUSE_OUT}}),error:new i},n.each(this.eventCounters,function(e){t.registerListener(e)})};s.prototype={registerListener:function(e){this.listeners.push(e)},handle:function(e){e.timeStamp=this.stopWatch.elapsed(),n.each(this.listeners,function(t){try{t.handle(e)}catch(i){}});var t=n.last(this.eventLog);return n.isDefined(t)&&t.type===e.type&&t.trigger===e.trigger?void(t.occurances=n.isDefined(t.occurances)?t.occurances+1:2):void this.eventLog.push(e)},close:function(){var e=this.stopWatch.elapsed();return n.each(this.listeners,function(t){try{t.close(e)}catch(i){}}),e}},t.exports=s},{"../util/Util.js":14,"./AppEvent.js":7,"./EventCounter.js":9}],9:[function(e,t,i){"use strict";var n=function(e){this.config=e,this.count=0,this.lastPositiveEvent=void 0};n.prototype={handle:function(e){null!==this.lastPositiveEvent&&void 0!==this.lastPositiveEvent||!this.config.positiveTrigger(e)?this.config.negativeTrigger(e,this.lastPositiveEvent)&&(null!==this.lastPositiveEvent&&void 0!==this.lastPositiveEvent&&(this.count=this.count+(e.timeStamp-this.lastPositiveEvent.timeStamp)),this.lastPositiveEvent=null):this.lastPositiveEvent=e},close:function(e){null!==this.lastPositiveEvent&&(this.count=this.count+(e-this.lastPositiveEvent.timeStamp)),this.lastPositiveEvent=void 0}},t.exports=n},{}],10:[function(e,t,i){"use strict";var n=e("lz-string"),r=function(){this.capabilities=this.getCapabilities()};r.prototype={getCapabilities:function(){var e="test";return{lzString:e===n.decompressFromBase64(n.compressToBase64(e))}},compress:function(e){if(this.capabilities.lzString)try{var t=n.compressToBase64(e);return encodeURIComponent(t)}catch(i){return encodeURIComponent(e)}return encodeURIComponent(e)}},t.exports=r},{"lz-string":16}],11:[function(e,t,i){"use strict";var n=e("./Util.js"),r={addEventListener:function(e,t,i){n.isDefined(e.addEventListener)?e.addEventListener(t,i,!1):n.isDefined(e.attachEvent)?e.attachEvent("on"+t,i):e["on"+t]=i},createDomElement:function(e,t){var i=document.createElement(e);return n.partialCopy(t,i),i},getRootDomElement:function(){return n.isDefined(document.body)?document.body:document},isIframe:function(){try{return window.self!==window.top}catch(e){return!0}},getElementPosition:function(e){for(var t=e,i=0,n=0;null!==t;)i+=t.offsetLeft,n+=t.offsetTop,t=t.offsetParent;return{left:i,top:n}},getElementSize:function(e){var t=e.getBoundingClientRect();return{width:t.right-t.left,height:t.bottom-t.top}},getDocumentScrollPosition:function(){var e=document.documentElement,t=document.body,i=e&&e.scrollLeft||t&&t.scrollLeft||0,n=e&&e.scrollTop||t&&t.scrollTop||0;return{left:i,top:n}},getViewPortSize:function(){return window.innerWidth?{width:window.innerWidth,height:window.innerHeight}:document.all?{width:document.body.clientWidth,height:document.body.clientHeight}:{width:0,height:0}},getBoxInViewArea:function(e,t){return Math.max(Math.min(e.position.left+e.size.width,t.position.left+t.size.width)-Math.max(e.position.left,t.position.left),0)*Math.max(Math.min(e.position.top+e.size.height,t.position.top+t.size.height)-Math.max(e.position.top,t.position.top),0)},getElementInViewPercentage:function(e){var t=r.getElementSize(e);return r.getBoxInViewArea({position:r.getElementPosition(e),size:t},{position:r.getDocumentScrollPosition(),size:r.getViewPortSize()})/(t.width*t.height)},detectBrowserType:function(){var e={os:"other",browserType:"other"};try{navigator.userAgent.indexOf("Firefox")>-1&&(e.browserType="firefox"),navigator.platform.indexOf("Win")>-1&&(e.os="windows")}catch(t){}return e}};t.exports=r},{"./Util.js":14}],12:[function(e,t,i){"use strict";var n=e("./DomUtil.js"),r={issueCrossDomainGet:function(e){if(void 0===navigator.sendBeacon||!navigator.sendBeacon(e)){if(void 0!==window.Image){var t=new window.Image(1,1);return void(t.src=e)}n.getRootDomElement().appendChild(n.createDomElement("img",{width:"1px",height:"1px",src:e,style:{width:"1px",height:"1px",zIndex:-9999,position:"absolute",top:"-9999px",left:"-9999px"}}))}}};t.exports=r},{"./DomUtil.js":11}],13:[function(e,t,i){"use strict";var n=e("./Util.js"),r=function(){this.startTime=n.getTime()};r.prototype={elapsed:function(){return n.getTime()-this.startTime}},t.exports=r},{"./Util.js":14}],14:[function(e,t,i){"use strict";var n={getTime:function(){return(new Date).getTime()},isDefined:function(e){return void 0===e||null===e?!1:!0},each:function(e,t){if(n.isDefined(e)&&n.isDefined(t)){var i;for(i in e)e.hasOwnProperty(i)&&t(e[i],i)}},last:function(e){return n.isDefined(e)&&e.length>0?e[e.length-1]:void 0},partialCopy:function(e,t){n.each(e,function(e,i){"object"==typeof e?(n.isDefined(t[i])||(t[i]={}),n.partialCopy(e,t[i])):t[i]=e})}};t.exports=n},{}],15:[function(e,t,i){(function(e){(function(){function n(e,t){function i(e){if(i[e]!==g)return i[e];var n;if("bug-string-char-index"==e)n="a"!="a"[0];else if("json"==e)n=i("json-stringify")&&i("json-parse");else{var o,a='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==e){var l=t.stringify,u="function"==typeof l&&w;if(u){(o=function(){return 1}).toJSON=o;try{u="0"===l(0)&&"0"===l(new r)&&'""'==l(new s)&&l(y)===g&&l(g)===g&&l()===g&&"1"===l(o)&&"[1]"==l([o])&&"[null]"==l([g])&&"null"==l(null)&&"[null,null,null]"==l([g,y,null])&&l({a:[o,!0,!1,null,"\x00\b\n\f\r	"]})==a&&"1"===l(null,o)&&"[\n 1,\n 2\n]"==l([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==l(new c(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==l(new c(864e13))&&'"-000001-01-01T00:00:00.000Z"'==l(new c(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==l(new c(-1))}catch(p){u=!1}}n=u}if("json-parse"==e){var f=t.parse;if("function"==typeof f)try{if(0===f("0")&&!f(!1)){o=f(a);var h=5==o.a.length&&1===o.a[0];if(h){try{h=!f('"	"')}catch(p){}if(h)try{h=1!==f("01")}catch(p){}if(h)try{h=1!==f("1.")}catch(p){}}}}catch(p){h=!1}n=h}}return i[e]=!!n}e||(e=a.Object()),t||(t=a.Object());var r=e.Number||a.Number,s=e.String||a.String,l=e.Object||a.Object,c=e.Date||a.Date,u=e.SyntaxError||a.SyntaxError,p=e.TypeError||a.TypeError,f=e.Math||a.Math,h=e.JSON||a.JSON;"object"==typeof h&&h&&(t.stringify=h.stringify,t.parse=h.parse);var d,v,g,m=l.prototype,y=m.toString,w=new c(-0xc782b5b800cec);try{w=-109252==w.getUTCFullYear()&&0===w.getUTCMonth()&&1===w.getUTCDate()&&10==w.getUTCHours()&&37==w.getUTCMinutes()&&6==w.getUTCSeconds()&&708==w.getUTCMilliseconds()}catch(E){}if(!i("json")){var b="[object Function]",D="[object Date]",T="[object Number]",j="[object String]",S="[object Array]",C="[object Boolean]",U=i("bug-string-char-index");if(!w)var A=f.floor,x=[0,31,59,90,120,151,181,212,243,273,304,334],_=function(e,t){return x[t]+365*(e-1970)+A((e-1969+(t=+(t>1)))/4)-A((e-1901+t)/100)+A((e-1601+t)/400)};if((d=m.hasOwnProperty)||(d=function(e){var t,i={};return(i.__proto__=null,i.__proto__={toString:1},i).toString!=y?d=function(e){var t=this.__proto__,i=e in(this.__proto__=null,this);return this.__proto__=t,i}:(t=i.constructor,d=function(e){var i=(this.constructor||t).prototype;return e in this&&!(e in i&&this[e]===i[e])}),i=null,d.call(this,e)}),v=function(e,t){var i,n,r,s=0;(i=function(){this.valueOf=0}).prototype.valueOf=0,n=new i;for(r in n)d.call(n,r)&&s++;return i=n=null,s?v=2==s?function(e,t){var i,n={},r=y.call(e)==b;for(i in e)r&&"prototype"==i||d.call(n,i)||!(n[i]=1)||!d.call(e,i)||t(i)}:function(e,t){var i,n,r=y.call(e)==b;for(i in e)r&&"prototype"==i||!d.call(e,i)||(n="constructor"===i)||t(i);(n||d.call(e,i="constructor"))&&t(i)}:(n=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],v=function(e,t){var i,r,s=y.call(e)==b,a=!s&&"function"!=typeof e.constructor&&o[typeof e.hasOwnProperty]&&e.hasOwnProperty||d;for(i in e)s&&"prototype"==i||!a.call(e,i)||t(i);for(r=n.length;i=n[--r];a.call(e,i)&&t(i));}),v(e,t)},!i("json-stringify")){var O={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},I="000000",P=function(e,t){return(I+(t||0)).slice(-e)},L="\\u00",M=function(e){for(var t='"',i=0,n=e.length,r=!U||n>10,o=r&&(U?e.split(""):e);n>i;i++){var s=e.charCodeAt(i);switch(s){case 8:case 9:case 10:case 12:case 13:case 34:case 92:t+=O[s];break;default:if(32>s){t+=L+P(2,s.toString(16));break}t+=r?o[i]:e.charAt(i)}}return t+'"'},V=function(e,t,i,n,r,o,s){var a,l,c,u,f,h,m,w,E,b,U,x,O,I,L,B;try{a=t[e]}catch(k){}if("object"==typeof a&&a)if(l=y.call(a),l!=D||d.call(a,"toJSON"))"function"==typeof a.toJSON&&(l!=T&&l!=j&&l!=S||d.call(a,"toJSON"))&&(a=a.toJSON(e));else if(a>-1/0&&1/0>a){if(_){for(f=A(a/864e5),c=A(f/365.2425)+1970-1;_(c+1,0)<=f;c++);for(u=A((f-_(c,0))/30.42);_(c,u+1)<=f;u++);f=1+f-_(c,u),h=(a%864e5+864e5)%864e5,m=A(h/36e5)%24,w=A(h/6e4)%60,E=A(h/1e3)%60,b=h%1e3}else c=a.getUTCFullYear(),u=a.getUTCMonth(),f=a.getUTCDate(),m=a.getUTCHours(),w=a.getUTCMinutes(),E=a.getUTCSeconds(),b=a.getUTCMilliseconds();a=(0>=c||c>=1e4?(0>c?"-":"+")+P(6,0>c?-c:c):P(4,c))+"-"+P(2,u+1)+"-"+P(2,f)+"T"+P(2,m)+":"+P(2,w)+":"+P(2,E)+"."+P(3,b)+"Z"}else a=null;if(i&&(a=i.call(t,e,a)),null===a)return"null";if(l=y.call(a),l==C)return""+a;if(l==T)return a>-1/0&&1/0>a?""+a:"null";if(l==j)return M(""+a);if("object"==typeof a){for(I=s.length;I--;)if(s[I]===a)throw p();if(s.push(a),U=[],L=o,o+=r,l==S){for(O=0,I=a.length;I>O;O++)x=V(O,a,i,n,r,o,s),U.push(x===g?"null":x);B=U.length?r?"[\n"+o+U.join(",\n"+o)+"\n"+L+"]":"["+U.join(",")+"]":"[]"}else v(n||a,function(e){var t=V(e,a,i,n,r,o,s);t!==g&&U.push(M(e)+":"+(r?" ":"")+t)}),B=U.length?r?"{\n"+o+U.join(",\n"+o)+"\n"+L+"}":"{"+U.join(",")+"}":"{}";return s.pop(),B}};t.stringify=function(e,t,i){var n,r,s,a;if(o[typeof t]&&t)if((a=y.call(t))==b)r=t;else if(a==S){s={};for(var l,c=0,u=t.length;u>c;l=t[c++],a=y.call(l),(a==j||a==T)&&(s[l]=1));}if(i)if((a=y.call(i))==T){if((i-=i%1)>0)for(n="",i>10&&(i=10);n.length<i;n+=" ");}else a==j&&(n=i.length<=10?i:i.slice(0,10));return V("",(l={},l[""]=e,l),r,s,n,"",[])}}if(!i("json-parse")){var B,k,H=s.fromCharCode,N={92:"\\",34:'"',47:"/",98:"\b",116:"	",110:"\n",102:"\f",114:"\r"},R=function(){throw B=k=null,u()},z=function(){for(var e,t,i,n,r,o=k,s=o.length;s>B;)switch(r=o.charCodeAt(B)){case 9:case 10:case 13:case 32:B++;break;case 123:case 125:case 91:case 93:case 58:case 44:return e=U?o.charAt(B):o[B],B++,e;case 34:for(e="@",B++;s>B;)if(r=o.charCodeAt(B),32>r)R();else if(92==r)switch(r=o.charCodeAt(++B)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:e+=N[r],B++;break;case 117:for(t=++B,i=B+4;i>B;B++)r=o.charCodeAt(B),r>=48&&57>=r||r>=97&&102>=r||r>=65&&70>=r||R();e+=H("0x"+o.slice(t,B));break;default:R()}else{if(34==r)break;for(r=o.charCodeAt(B),t=B;r>=32&&92!=r&&34!=r;)r=o.charCodeAt(++B);e+=o.slice(t,B)}if(34==o.charCodeAt(B))return B++,e;R();default:if(t=B,45==r&&(n=!0,r=o.charCodeAt(++B)),r>=48&&57>=r){for(48==r&&(r=o.charCodeAt(B+1),r>=48&&57>=r)&&R(),n=!1;s>B&&(r=o.charCodeAt(B),r>=48&&57>=r);B++);if(46==o.charCodeAt(B)){for(i=++B;s>i&&(r=o.charCodeAt(i),r>=48&&57>=r);i++);i==B&&R(),B=i}if(r=o.charCodeAt(B),101==r||69==r){for(r=o.charCodeAt(++B),(43==r||45==r)&&B++,i=B;s>i&&(r=o.charCodeAt(i),r>=48&&57>=r);i++);i==B&&R(),B=i}return+o.slice(t,B)}if(n&&R(),"true"==o.slice(B,B+4))return B+=4,!0;if("false"==o.slice(B,B+5))return B+=5,!1;if("null"==o.slice(B,B+4))return B+=4,null;R()}return"$"},F=function(e){var t,i;if("$"==e&&R(),"string"==typeof e){if("@"==(U?e.charAt(0):e[0]))return e.slice(1);if("["==e){for(t=[];e=z(),"]"!=e;i||(i=!0))i&&(","==e?(e=z(),"]"==e&&R()):R()),","==e&&R(),t.push(F(e));return t}if("{"==e){for(t={};e=z(),"}"!=e;i||(i=!0))i&&(","==e?(e=z(),"}"==e&&R()):R()),(","==e||"string"!=typeof e||"@"!=(U?e.charAt(0):e[0])||":"!=z())&&R(),t[e.slice(1)]=F(z());return t}R()}return e},G=function(e,t,i){var n=J(e,t,i);n===g?delete e[t]:e[t]=n},J=function(e,t,i){var n,r=e[t];if("object"==typeof r&&r)if(y.call(r)==S)for(n=r.length;n--;)G(r,n,i);else v(r,function(e){G(r,e,i)});return i.call(e,t,r)};t.parse=function(e,t){var i,n;return B=0,k=""+e,i=F(z()),"$"!=z()&&R(),B=k=null,t&&y.call(t)==b?J((n={},n[""]=i,n),"",t):i}}}return t.runInContext=n,t}var r="function"==typeof define&&define.amd,o={"function":!0,object:!0},s=o[typeof i]&&i&&!i.nodeType&&i,a=o[typeof window]&&window||this,l=s&&o[typeof t]&&t&&!t.nodeType&&"object"==typeof e&&e;if(!l||l.global!==l&&l.window!==l&&l.self!==l||(a=l),s&&!r)n(a,s);else{var c=a.JSON,u=a.JSON3,p=!1,f=n(a,a.JSON3={noConflict:function(){return p||(p=!0,a.JSON=c,a.JSON3=u,c=u=null),f}});a.JSON={parse:f.parse,stringify:f.stringify}}r&&define(function(){return f})}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],16:[function(e,t,i){var n=function(){function e(e,t){if(!r[e]){r[e]={};for(var i=0;i<e.length;i++)r[e][e.charAt(i)]=i}return r[e][t]}var t=String.fromCharCode,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",r={},o={compressToBase64:function(e){if(null==e)return"";var t=o._compress(e,6,function(e){return i.charAt(e)});switch(t.length%4){default:case 0:return t;case 1:return t+"===";case 2:return t+"==";case 3:return t+"="}},decompressFromBase64:function(t){return null==t?"":""==t?null:o._decompress(t.length,32,function(n){return e(i,t.charAt(n))})},compressToUTF16:function(e){return null==e?"":o._compress(e,15,function(e){return t(e+32)})+" "},decompressFromUTF16:function(e){return null==e?"":""==e?null:o._decompress(e.length,16384,function(t){return e.charCodeAt(t)-32})},compressToUint8Array:function(e){for(var t=o.compress(e),i=new Uint8Array(2*t.length),n=0,r=t.length;r>n;n++){var s=t.charCodeAt(n);i[2*n]=s>>>8,i[2*n+1]=s%256}return i},decompressFromUint8Array:function(e){if(null===e||void 0===e)return o.decompress(e);for(var i=new Array(e.length/2),n=0,r=i.length;r>n;n++)i[n]=256*e[2*n]+e[2*n+1];var s=[];return i.forEach(function(e){s.push(t(e))}),o.decompress(s.join(""))},compressToEncodedURIComponent:function(e){return null==e?"":o._compress(e,6,function(e){return n.charAt(e)})},decompressFromEncodedURIComponent:function(t){return null==t?"":""==t?null:(t=t.replace(/ /g,"+"),o._decompress(t.length,32,function(i){return e(n,t.charAt(i))}))},compress:function(e){return o._compress(e,16,function(e){return t(e)})},_compress:function(e,t,i){if(null==e)return"";var n,r,o,s={},a={},l="",c="",u="",p=2,f=3,h=2,d=[],v=0,g=0;for(o=0;o<e.length;o+=1)if(l=e.charAt(o),Object.prototype.hasOwnProperty.call(s,l)||(s[l]=f++,a[l]=!0),c=u+l,Object.prototype.hasOwnProperty.call(s,c))u=c;else{if(Object.prototype.hasOwnProperty.call(a,u)){if(u.charCodeAt(0)<256){for(n=0;h>n;n++)v<<=1,g==t-1?(g=0,d.push(i(v)),v=0):g++;for(r=u.charCodeAt(0),n=0;8>n;n++)v=v<<1|1&r,g==t-1?(g=0,d.push(i(v)),v=0):g++,r>>=1}else{for(r=1,n=0;h>n;n++)v=v<<1|r,g==t-1?(g=0,d.push(i(v)),v=0):g++,r=0;for(r=u.charCodeAt(0),n=0;16>n;n++)v=v<<1|1&r,g==t-1?(g=0,d.push(i(v)),v=0):g++,r>>=1}p--,0==p&&(p=Math.pow(2,h),h++),delete a[u]}else for(r=s[u],n=0;h>n;n++)v=v<<1|1&r,g==t-1?(g=0,d.push(i(v)),v=0):g++,r>>=1;p--,0==p&&(p=Math.pow(2,h),h++),s[c]=f++,u=String(l)}if(""!==u){if(Object.prototype.hasOwnProperty.call(a,u)){if(u.charCodeAt(0)<256){for(n=0;h>n;n++)v<<=1,g==t-1?(g=0,d.push(i(v)),v=0):g++;for(r=u.charCodeAt(0),n=0;8>n;n++)v=v<<1|1&r,g==t-1?(g=0,d.push(i(v)),v=0):g++,r>>=1}else{for(r=1,n=0;h>n;n++)v=v<<1|r,g==t-1?(g=0,d.push(i(v)),v=0):g++,r=0;for(r=u.charCodeAt(0),n=0;16>n;n++)v=v<<1|1&r,g==t-1?(g=0,d.push(i(v)),v=0):g++,r>>=1}p--,0==p&&(p=Math.pow(2,h),h++),delete a[u]}else for(r=s[u],n=0;h>n;n++)v=v<<1|1&r,g==t-1?(g=0,d.push(i(v)),v=0):g++,r>>=1;p--,0==p&&(p=Math.pow(2,h),h++)}for(r=2,n=0;h>n;n++)v=v<<1|1&r,g==t-1?(g=0,d.push(i(v)),v=0):g++,r>>=1;for(;;){if(v<<=1,g==t-1){d.push(i(v));break}g++}return d.join("")},decompress:function(e){return null==e?"":""==e?null:o._decompress(e.length,32768,function(t){return e.charCodeAt(t)})},_decompress:function(e,i,n){var r,o,s,a,l,c,u,p,f=[],h=4,d=4,v=3,g="",m=[],y={val:n(0),position:i,index:1};for(o=0;3>o;o+=1)f[o]=o;for(a=0,c=Math.pow(2,2),u=1;u!=c;)l=y.val&y.position,y.position>>=1,0==y.position&&(y.position=i,y.val=n(y.index++)),a|=(l>0?1:0)*u,u<<=1;switch(r=a){case 0:for(a=0,c=Math.pow(2,8),u=1;u!=c;)l=y.val&y.position,y.position>>=1,0==y.position&&(y.position=i,y.val=n(y.index++)),a|=(l>0?1:0)*u,u<<=1;p=t(a);break;case 1:for(a=0,c=Math.pow(2,16),u=1;u!=c;)l=y.val&y.position,y.position>>=1,0==y.position&&(y.position=i,y.val=n(y.index++)),a|=(l>0?1:0)*u,u<<=1;p=t(a);break;case 2:return""}for(f[3]=p,s=p,m.push(p);;){if(y.index>e)return"";for(a=0,c=Math.pow(2,v),u=1;u!=c;)l=y.val&y.position,y.position>>=1,0==y.position&&(y.position=i,y.val=n(y.index++)),a|=(l>0?1:0)*u,u<<=1;switch(p=a){case 0:for(a=0,c=Math.pow(2,8),u=1;u!=c;)l=y.val&y.position,y.position>>=1,0==y.position&&(y.position=i,y.val=n(y.index++)),a|=(l>0?1:0)*u,u<<=1;f[d++]=t(a),p=d-1,h--;break;case 1:for(a=0,c=Math.pow(2,16),u=1;u!=c;)l=y.val&y.position,y.position>>=1,0==y.position&&(y.position=i,y.val=n(y.index++)),a|=(l>0?1:0)*u,u<<=1;f[d++]=t(a),p=d-1,h--;break;case 2:return m.join("")}if(0==h&&(h=Math.pow(2,v),v++),f[p])g=f[p];else{if(p!==d)return null;g=s+s.charAt(0)}m.push(g),f[d++]=s+g.charAt(0),h--,s=g,0==h&&(h=Math.pow(2,v),v++)}}};return o}();"function"==typeof define&&define.amd?define(function(){return n}):"undefined"!=typeof t&&null!=t&&(t.exports=n)},{}],17:[function(e,t,i){"use strict";var n=e("./util/StopWatch.js"),r=e("./event/AppEventHandler.js"),o=(e("./event/AppEvent.js"),e("./util/Util.js")),s=e("./util/DomUtil.js"),a=e("./drivers/FlashAdVisibilityDriver.js"),l=e("./drivers/PageVisibilityDriver.js"),c=e("./drivers/InteractionDriver.js"),u=e("./drivers/DocumentEventAdVisibilityDriver.js"),p=e("./drivers/ReportDriver.js"),f=e("./drivers/DebugDriver.js"),h=window.PPViewability||function d(e,t){d.instanceCounter=d.instanceCounter+1,this.config={version:"3.1.6",elementId:e.id,instance:d.instanceCounter,flashDriverConfig:{displayBeaconURL:"/base/build/DisplayBeacon.swf",flashInitTimeout:5e3},debugDriverConfig:{enabled:!1},reportDriverConfig:{destination:"//bh.contextweb.com/bh/iv3"},enabledDrivers:[]},o.partialCopy(t,this.config),this.stopWatch=new n,this.eventHandler=new r(this.stopWatch),this.drivers={},this.element=e,this.inIframe=s.isIframe(),this.drivers["page-visibility"]=new l(this.eventHandler),this.drivers["user-interaction"]=new c(this.eventHandler,this.element),this.inIframe?this.drivers["flash-visibility"]=new a(this.eventHandler,this.element,this.config.flashDriverConfig):this.drivers["dom-visibility"]=new u(this.eventHandler,this.element),this.drivers["data-reporting"]=new p(this.eventHandler,this.config,this.config.reportDriverConfig.destination),this.drivers["event-debugging"]=new f(this.eventHandler,this.config.debugDriverConfig,this);var i=this;o.each(this.drivers,function(e,t){i.config.enabledDrivers.push(t)})};h.instanceCounter=0,t.exports=h,window.PPViewability=h},{"./drivers/DebugDriver.js":1,"./drivers/DocumentEventAdVisibilityDriver.js":2,"./drivers/FlashAdVisibilityDriver.js":3,"./drivers/InteractionDriver.js":4,"./drivers/PageVisibilityDriver.js":5,"./drivers/ReportDriver.js":6,"./event/AppEvent.js":7,"./event/AppEventHandler.js":8,"./util/DomUtil.js":11,"./util/StopWatch.js":13,"./util/Util.js":14}]},{},[17]);