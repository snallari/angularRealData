(function(){if(window.Blob&&window.URL.createObjectURL){for(var A=atob("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"),
m=Array(A.length),p=0;p<A.length;++p)m[p]=A.charCodeAt(p);window.Npb117=URL.createObjectURL(new window.Blob([new Uint8Array(m)],{type:"application/x-shockwave-flash"}))}})();
(function(A){"object"===typeof exports&&"undefined"!==typeof module?module.exports=A():"function"===typeof define&&define.amd?define([],A):("undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:this).DMVAST=A()})(function(){return function m(p,v,e){function w(c,a){if(!v[c]){if(!p[c]){var b="function"==typeof require&&require;if(!a&&b)return b(c,!0);if(f)return f(c,!0);a=Error("Cannot find module '"+c+"'");throw a.code="MODULE_NOT_FOUND",a;}a=v[c]={exports:{}};
p[c][0].call(a.exports,function(a){var b=p[c][1][a];return w(b?b:a)},a,a.exports,m,p,v,e)}return v[c].exports}for(var f="function"==typeof require&&require,d=0;d<e.length;d++)w(e[d]);return w}({1:[function(m,p,v){(function(){var e=function(){return function(){this.survey=this.pricing=this.advertiser=this.description=this.title=this.system=this.sequence=this.id=null;this.errorURLTemplates=[];this.impressionURLTemplates=[];this.creatives=[];this.extensions=[]}}();p.exports=e}).call(this)},{}],2:[function(m,
p,v){(function(){var e=m("./parser");var w=m("./util");var f=function(){function d(){}d.cappingFreeLunch=0;d.cappingMinimumTimeInterval=0;d.options={withCredentials:!1,timeout:0};d.get=function(c,a,b){var d=+new Date;var n=v.extend=function(a,b){var c;for(c in b){var d=b[c];a[c]=d}return a};if(!b){"function"===typeof a&&(b=a);var f={}}f=n(this.options,a);this.totalCallsTimeout<d?(this.totalCalls=1,this.totalCallsTimeout=d+36E5):this.totalCalls++;if(this.cappingFreeLunch>=this.totalCalls)b(null,Error("VAST call canceled \u2013 FreeLunch capping not reached yet "+
this.totalCalls+"/"+this.cappingFreeLunch));else{a=d-this.lastSuccessfullAd;if(0>a)this.lastSuccessfullAd=0;else if(a<this.cappingMinimumTimeInterval){b(null,Error("VAST call canceled \u2013 ("+this.cappingMinimumTimeInterval+")ms minimum interval reached"));return}return e.parse(c,f,b)}};(function(){var c=w.storage;var a=Object.defineProperty;["lastSuccessfullAd","totalCalls","totalCallsTimeout"].forEach(function(b){a(d,b,{get:function(){return c.getItem(b)},set:function(a){return c.setItem(b,a)},
configurable:!1,enumerable:!0})});null==d.lastSuccessfullAd&&(d.lastSuccessfullAd=0);null==d.totalCalls&&(d.totalCalls=0);null==d.totalCallsTimeout&&(d.totalCallsTimeout=0)})();return d}();p.exports=f}).call(this)},{"./parser":11,"./util":17}],3:[function(m,p,v){(function(){var e=function(){return function(){this.id=null;this.height=this.width=0;this.companionClickThroughURLTemplate=this.iframeResource=this.htmlResource=this.staticResource=this.type=null;this.trackingEvents={}}}();p.exports=e}).call(this)},
{}],4:[function(m,p,v){(function(){var e=function(a,b){function c(){this.constructor=a}for(var d in b)m.call(b,d)&&(a[d]=b[d]);c.prototype=b.prototype;a.prototype=new c;a.__super__=b.prototype;return a},m={}.hasOwnProperty;var f=function(){return function(){this.trackingEvents={}}}();var d=function(a){function b(){b.__super__.constructor.apply(this,arguments);this.type="linear";this.duration=0;this.skipDelay=null;this.mediaFiles=[];this.videoClickThroughURLTemplate=null;this.videoClickTrackingURLTemplates=
[];this.videoCustomClickURLTemplates=[];this.adParameters=null;this.icons=[]}e(b,a);return b}(f);var c=function(a){function b(){b.__super__.constructor.apply(this,arguments);this.type="nonlinear";this.variations=[]}e(b,a);return b}(f);f=function(a){function b(){this.type="companion";this.variations=[]}e(b,a);return b}(f);p.exports={VASTCreativeLinear:d,VASTCreativeNonLinear:c,VASTCreativeCompanion:f}}).call(this)},{}],5:[function(m,p,v){(function(){var e=function(){return function(){this.attributes=
{};this.children=[]}}();p.exports=e}).call(this)},{}],6:[function(m,p,v){(function(){var e=function(){return function(){this.value=this.name=null;this.attributes={}}}();p.exports=e}).call(this)},{}],7:[function(m,p,v){(function(){var e=function(){return function(){this.program=null;this.yPosition=this.xPosition=this.width=this.height=0;this.offset=this.apiFramework=null;this.duration=0;this.iconClickThroughURLTemplate=this.iframeResource=this.htmlResource=this.staticResource=this.type=null;this.iconClickTrackingURLTemplates=
[];this.iconViewTrackingURLTemplate=null}}();p.exports=e}).call(this)},{}],8:[function(m,p,v){p.exports={client:m("./client"),tracker:m("./tracker"),parser:m("./parser"),util:m("./util")}},{"./client":2,"./parser":11,"./tracker":13,"./util":17}],9:[function(m,p,v){(function(){var e=function(){return function(){this.fileURL=this.id=null;this.deliveryType="progressive";this.codec=this.mimeType=null;this.height=this.width=this.maxBitrate=this.minBitrate=this.bitrate=0;this.maintainAspectRatio=this.scalable=
this.apiFramework=null}}();p.exports=e}).call(this)},{}],10:[function(m,p,v){(function(){var e=function(){return function(){this.id=null;this.height=this.width=0;this.minSuggestedDuration="00:00:00";this.apiFramework="static";this.nonlinearClickThroughURLTemplate=this.iframeResource=this.htmlResource=this.staticResource=this.type=null}}();p.exports=e}).call(this)},{}],11:[function(m,p,v){(function(){var e=[].indexOf||function(a){for(var b=0,c=this.length;b<c;b++)if(b in this&&this[b]===a)return b;
return-1};var w=m("./urlhandler");var f=m("./response");var d=m("./ad");var c=m("./extension");var a=m("./extensionchild");var b=m("./util");var q=m("./creative").VASTCreativeLinear;var n=m("./creative").VASTCreativeCompanion;var t=m("./creative").VASTCreativeNonLinear;var C=m("./mediafile");var F=m("./icon");var v=m("./companionad");var G=m("./nonlinear");var k=m("events").EventEmitter;var J=function(){function u(){}var m=[];u.addURLTemplateFilter=function(a){"function"===typeof a&&m.push(a)};u.removeURLTemplateFilter=
function(){return m.pop()};u.countURLTemplateFilters=function(){return m.length};u.clearUrlTemplateFilters=function(){return m=[]};u.parse=function(a,b,c){c||("function"===typeof b&&(c=b),b={});return this._parse(a,null,b,c)};u.vent=new k;u.track=function(a,c){this.vent.emit("VAST-error",c);return b.track(a,c)};u.on=function(a,b){return this.vent.on(a,b)};u.once=function(a,b){return this.vent.once(a,b)};u._parse=function(a,b,c,d){var g;d||("function"===typeof c&&(d=c),c={});var q=0;for(g=m.length;q<
g;q++){var l=m[q];a=l(a)}null==b&&(b=[]);b.push(a);return w.get(a,c,function(g){return function(h,q,l){var n;if(null!=h)return d(h,null,l,b);var x=new f;if(null==(null!=q?q.documentElement:void 0)||"VAST"!==q.documentElement.nodeName)return d(Error("Invalid VAST XMLDocument"),void 0,l,b);if("NO_AD"===q.documentElement.getAttribute("t:status"))return d(null,null,l,b);var t=q.documentElement.childNodes;var z=0;for(n=t.length;z<n;z++)h=t[z],"Error"===h.nodeName&&x.errorURLTemplates.push(g.parseNodeText(h));
n=q.documentElement.childNodes;q=0;for(z=n.length;q<z;q++)if(h=n[q],"Ad"===h.nodeName){var y=g.parseAdElement(h);null!=y?x.ads.push(y):g.track(x.errorURLTemplates,{ERRORCODE:101})}var B=function(a){var c;null==a&&(a=!1);if(x){var h=!0;var q=x.ads;var n=0;for(c=q.length;n<c;n++){y=q[n];if(null!=y.nextWrapperURL)return;0<y.creatives.length&&(h=!1)}h&&(a||g.track(x.errorURLTemplates,{ERRORCODE:303}));0===x.ads.length&&(x=null);return d(null,x,l,b)}};for(h=x.ads.length;h--;)y=x.ads[h],null!=y.nextWrapperURL&&
function(d){var h;if(30<=b.length||(h=d.nextWrapperURL,0<=e.call(b,h)))g.track(d.errorURLTemplates,{ERRORCODE:302}),x.ads.splice(x.ads.indexOf(d),1),B();else return 0===d.nextWrapperURL.indexOf("//")?(h=location.protocol,d.nextWrapperURL=""+h+d.nextWrapperURL):-1===d.nextWrapperURL.indexOf("://")&&(h=a.slice(0,a.lastIndexOf("/")),d.nextWrapperURL=h+"/"+d.nextWrapperURL),g._parse(d.nextWrapperURL,b,c,function(a,b){var c,h,q,l;var n=!1;if(null!=a)g.track(d.errorURLTemplates,{ERRORCODE:301}),x.ads.splice(x.ads.indexOf(d),
1),n=!0;else if(null==b)g.track(d.errorURLTemplates,{ERRORCODE:303}),x.ads.splice(x.ads.indexOf(d),1),n=!0;else{x.errorURLTemplates=x.errorURLTemplates.concat(b.errorURLTemplates);a=x.ads.indexOf(d);x.ads.splice(a,1);var y=b.ads;var f=0;for(h=y.length;f<h;f++){var z=y[f];z.errorURLTemplates=d.errorURLTemplates.concat(z.errorURLTemplates);z.impressionURLTemplates=d.impressionURLTemplates.concat(z.impressionURLTemplates);if(null!=d.trackingEvents){var t=z.creatives;var r=0;for(q=t.length;r<q;r++)if(b=
t[r],"linear"===b.type||"nonlinear"===b.type){var D=Object.keys(d.trackingEvents);var E=0;for(l=D.length;E<l;E++){var e=D[E];(c=b.trackingEvents)[e]||(c[e]=[]);b.trackingEvents[e]=b.trackingEvents[e].concat(d.trackingEvents[e])}}}if(null!=d.videoClickTrackingURLTemplates)for(l=z.creatives,q=0,e=l.length;q<e;q++)b=l[q],"linear"===b.type&&(b.videoClickTrackingURLTemplates=b.videoClickTrackingURLTemplates.concat(d.videoClickTrackingURLTemplates));if(null!=d.videoClickThroughURLTemplate)for(l=z.creatives,
q=0,e=l.length;q<e;q++)b=l[q],"linear"===b.type&&null==b.videoClickThroughURLTemplate&&(b.videoClickThroughURLTemplate=d.videoClickThroughURLTemplate);x.ads.splice(++a,0,z)}}delete d.nextWrapperURL;return B(n)})}(y);return B()}}(this))};u.childByName=function(a,b){var c;var d=a.childNodes;var h=0;for(c=d.length;h<c;h++)if(a=d[h],a.nodeName===b)return a};u.childsByName=function(a,b){var c;var d=[];var h=a.childNodes;var g=0;for(c=h.length;g<c;g++)a=h[g],a.nodeName===b&&d.push(a);return d};u.parseAdElement=
function(a){var b,c;var d=a.childNodes;var h=0;for(b=d.length;h<b;h++){var g=d[h];if("Wrapper"===(c=g.nodeName)||"InLine"===c){this.copyNodeAttribute("id",a,g);this.copyNodeAttribute("sequence",a,g);if("Wrapper"===g.nodeName)return this.parseWrapperElement(g);if("InLine"===g.nodeName)return this.parseInLineElement(g)}}};u.parseWrapperElement=function(a){var b=this.parseInLineElement(a);var c=this.childByName(a,"VASTAdTagURI");null!=c?b.nextWrapperURL=this.parseNodeText(c):(c=this.childByName(a,"VASTAdTagURL"),
null!=c&&(b.nextWrapperURL=this.parseNodeText(this.childByName(c,"URL"))));var d=b.creatives;a=0;for(c=d.length;a<c;a++){var h=d[a];"linear"!==h.type&&"nonlinear"!==h.type||null==h||(null!=h.trackingEvents&&(b.trackingEvents=h.trackingEvents),null!=h.videoClickTrackingURLTemplates&&(b.videoClickTrackingURLTemplates=h.videoClickTrackingURLTemplates),null!=h.videoClickThroughURLTemplate&&(b.videoClickThroughURLTemplate=h.videoClickThroughURLTemplate))}if(null!=b.nextWrapperURL)return b};u.parseInLineElement=
function(a){var b,c,g;var h=new d;h.id=a.getAttribute("id")||null;h.sequence=a.getAttribute("sequence")||null;var q=a.childNodes;a=0;for(b=q.length;a<b;a++){var l=q[a];switch(l.nodeName){case "Error":h.errorURLTemplates.push(this.parseNodeText(l));break;case "Impression":h.impressionURLTemplates.push(this.parseNodeText(l));break;case "Creatives":var n=this.childsByName(l,"Creative");l=0;for(c=n.length;l<c;l++){var f=n[l];var t=f.childNodes;f=0;for(g=t.length;f<g;f++){var e=t[f];switch(e.nodeName){case "Linear":(e=
this.parseCreativeLinearElement(e))&&h.creatives.push(e);break;case "NonLinearAds":(e=this.parseNonLinear(e))&&h.creatives.push(e);break;case "CompanionAds":(e=this.parseCompanionAd(e))&&h.creatives.push(e)}}}break;case "Extensions":this.parseExtension(h.extensions,this.childsByName(l,"Extension"));break;case "AdSystem":h.system={value:this.parseNodeText(l),version:l.getAttribute("version")||null};break;case "AdTitle":h.title=this.parseNodeText(l);break;case "Description":h.description=this.parseNodeText(l);
break;case "Advertiser":h.advertiser=this.parseNodeText(l);break;case "Pricing":h.pricing={value:this.parseNodeText(l),model:l.getAttribute("model")||null,currency:l.getAttribute("currency")||null};break;case "Survey":h.survey=this.parseNodeText(l)}}return h};u.parseExtension=function(b,d){var g,q,h;var n=[];var l=0;for(g=d.length;l<g;l++){var f=d[l];var e=new c;if(f.attributes){var t=f.attributes;var B=0;for(q=t.length;B<q;B++){var r=t[B];e.attributes[r.nodeName]=r.nodeValue}}q=f.childNodes;r=0;
for(B=q.length;r<B;r++)if(t=q[r],"#text"!==t.nodeName){f=new a;f.name=t.nodeName;f.value=this.parseNodeText(t);if(t.attributes){var y=t.attributes;var k=0;for(h=y.length;k<h;k++)t=y[k],f.attributes[t.nodeName]=t.nodeValue}e.children.push(f)}n.push(b.push(e))}return n};u.parseCreativeLinearElement=function(a){var b,c;var d=new q;d.duration=this.parseDuration(this.parseNodeText(this.childByName(a,"Duration")));-1===d.duration&&"Wrapper"!==a.parentNode.parentNode.parentNode.nodeName&&(d.duration=30);
var h=a.getAttribute("skipoffset");null==h?d.skipDelay=null:"%"===h.charAt(h.length-1)?(h=parseInt(h,10),d.skipDelay=h/100*d.duration):d.skipDelay=this.parseDuration(h);var g=this.childByName(a,"VideoClicks");if(null!=g){d.videoClickThroughURLTemplate=this.parseNodeText(this.childByName(g,"ClickThrough"));var l=this.childsByName(g,"ClickTracking");var n=0;for(c=l.length;n<c;n++)h=l[n],d.videoClickTrackingURLTemplates.push(this.parseNodeText(h));l=this.childsByName(g,"CustomClick");n=0;for(c=l.length;n<
c;n++)h=l[n],d.videoCustomClickURLTemplates.push(this.parseNodeText(h))}h=this.childByName(a,"AdParameters");null!=h&&(d.adParameters=this.parseNodeText(h));c=this.childsByName(a,"TrackingEvents");h=0;for(n=c.length;h<n;h++){l=c[h];var f=this.childsByName(l,"Tracking");l=0;for(g=f.length;l<g;l++){var t=f[l];var e=t.getAttribute("event");var r=this.parseNodeText(t);if(null!=e&&null!=r){if("progress"===e){e=t.getAttribute("offset");if(!e)continue;e="%"===e.charAt(e.length-1)?"progress-"+e:"progress-"+
Math.round(this.parseDuration(e))}null==(b=d.trackingEvents)[e]&&(b[e]=[]);d.trackingEvents[e].push(r)}}}n=this.childsByName(a,"MediaFiles");h=0;for(b=n.length;h<b;h++)for(c=n[h],f=this.childsByName(c,"MediaFile"),g=0,c=f.length;g<c;g++)r=f[g],l=new C,l.id=r.getAttribute("id"),l.fileURL=this.parseNodeText(r),l.deliveryType=r.getAttribute("delivery"),l.codec=r.getAttribute("codec"),l.mimeType=r.getAttribute("type"),l.apiFramework=r.getAttribute("apiFramework"),l.bitrate=parseInt(r.getAttribute("bitrate")||
0),l.minBitrate=parseInt(r.getAttribute("minBitrate")||0),l.maxBitrate=parseInt(r.getAttribute("maxBitrate")||0),l.width=parseInt(r.getAttribute("width")||0),l.height=parseInt(r.getAttribute("height")||0),(e=r.getAttribute("scalable"))&&"string"===typeof e&&(e=e.toLowerCase(),"true"===e?l.scalable=!0:"false"===e&&(l.scalable=!1)),(r=r.getAttribute("maintainAspectRatio"))&&"string"===typeof r&&(r=r.toLowerCase(),"true"===r?l.maintainAspectRatio=!0:"false"===r&&(l.maintainAspectRatio=!1)),d.mediaFiles.push(l);
a=this.childByName(a,"Icons");if(null!=a)for(c=this.childsByName(a,"Icon"),n=0,h=c.length;n<h;n++){b=c[n];a=new F;a.program=b.getAttribute("program");a.height=parseInt(b.getAttribute("height")||0);a.width=parseInt(b.getAttribute("width")||0);a.xPosition=this.parseXPosition(b.getAttribute("xPosition"));a.yPosition=this.parseYPosition(b.getAttribute("yPosition"));a.apiFramework=b.getAttribute("apiFramework");a.offset=this.parseDuration(b.getAttribute("offset"));a.duration=this.parseDuration(b.getAttribute("duration"));
r=this.childsByName(b,"HTMLResource");f=0;for(g=r.length;f<g;f++)l=r[f],a.type=l.getAttribute("creativeType")||"text/html",a.htmlResource=this.parseNodeText(l);r=this.childsByName(b,"IFrameResource");f=0;for(g=r.length;f<g;f++)l=r[f],a.type=l.getAttribute("creativeType")||0,a.iframeResource=this.parseNodeText(l);f=this.childsByName(b,"StaticResource");g=0;for(l=f.length;g<l;g++)r=f[g],a.type=r.getAttribute("creativeType")||0,a.staticResource=this.parseNodeText(r);l=this.childByName(b,"IconClicks");
if(null!=l)for(a.iconClickThroughURLTemplate=this.parseNodeText(this.childByName(l,"IconClickThrough")),f=this.childsByName(l,"IconClickTracking"),r=0,g=f.length;r<g;r++)l=f[r],a.iconClickTrackingURLTemplates.push(this.parseNodeText(l));a.iconViewTrackingURLTemplate=this.parseNodeText(this.childByName(b,"IconViewTracking"));d.icons.push(a)}return d};u.parseNonLinear=function(a){var b,c,d;var h=new t;var q=this.childsByName(a,"TrackingEvents");var f=0;for(c=q.length;f<c;f++){var n=q[f];var g=this.childsByName(n,
"Tracking");var e=0;for(d=g.length;e<d;e++){var k=g[e];n=k.getAttribute("event");k=this.parseNodeText(k);null!=n&&null!=k&&(null==(b=h.trackingEvents)[n]&&(b[n]=[]),h.trackingEvents[n].push(k))}}q=this.childsByName(a,"NonLinear");a=0;for(b=q.length;a<b;a++){c=q[a];f=new G;f.id=c.getAttribute("id")||null;f.width=c.getAttribute("width");f.height=c.getAttribute("height");f.minSuggestedDuration=c.getAttribute("minSuggestedDuration");f.apiFramework=c.getAttribute("apiFramework");g=this.childsByName(c,
"HTMLResource");e=0;for(d=g.length;e<d;e++)n=g[e],f.type=n.getAttribute("creativeType")||"text/html",f.htmlResource=this.parseNodeText(n);g=this.childsByName(c,"IFrameResource");d=0;for(e=g.length;d<e;d++)n=g[d],f.type=n.getAttribute("creativeType")||0,f.iframeResource=this.parseNodeText(n);d=this.childsByName(c,"StaticResource");e=0;for(n=d.length;e<n;e++)g=d[e],f.type=g.getAttribute("creativeType")||0,f.staticResource=this.parseNodeText(g);f.nonlinearClickThroughURLTemplate=this.parseNodeText(this.childByName(c,
"NonLinearClickThrough"));h.variations.push(f)}return h};u.parseCompanionAd=function(a){var b,c,d,h;var q=new n;var f=this.childsByName(a,"Companion");var e=0;for(c=f.length;e<c;e++){var g=f[e];a=new v;a.id=g.getAttribute("id")||null;a.width=g.getAttribute("width");a.height=g.getAttribute("height");a.companionClickTrackingURLTemplates=[];var t=this.childsByName(g,"HTMLResource");var k=0;for(d=t.length;k<d;k++){var r=t[k];a.type=r.getAttribute("creativeType")||"text/html";a.htmlResource=this.parseNodeText(r)}t=
this.childsByName(g,"IFrameResource");k=0;for(d=t.length;k<d;k++)r=t[k],a.type=r.getAttribute("creativeType")||0,a.iframeResource=this.parseNodeText(r);d=this.childsByName(g,"StaticResource");r=0;for(k=d.length;r<k;r++)t=d[r],a.type=t.getAttribute("creativeType")||0,a.staticResource=this.parseNodeText(t);d=this.childsByName(g,"TrackingEvents");k=0;for(r=d.length;k<r;k++){t=d[k];var m=this.childsByName(t,"Tracking");var u=0;for(h=m.length;u<h;u++){var p=m[u];t=p.getAttribute("event");p=this.parseNodeText(p);
null!=t&&null!=p&&(null==(b=a.trackingEvents)[t]&&(b[t]=[]),a.trackingEvents[t].push(p))}}t=this.childsByName(g,"CompanionClickTracking");d=0;for(k=t.length;d<k;d++)r=t[d],a.companionClickTrackingURLTemplates.push(this.parseNodeText(r));a.companionClickThroughURLTemplate=this.parseNodeText(this.childByName(g,"CompanionClickThrough"));a.companionClickTrackingURLTemplate=this.parseNodeText(this.childByName(g,"CompanionClickTracking"));q.variations.push(a)}return q};u.parseDuration=function(a){if(null==
a)return-1;var b=a.split(":");if(3!==b.length)return-1;var c=b[2].split(".");a=parseInt(c[0]);2===c.length&&(a+=parseFloat("0."+c[1]));c=parseInt(60*b[1]);b=parseInt(3600*b[0]);return isNaN(b||isNaN(c||isNaN(a||3600<c||60<a)))?-1:b+c+a};u.parseXPosition=function(a){return"left"===a||"right"===a?a:parseInt(a||0)};u.parseYPosition=function(a){return"top"===a||"bottom"===a?a:parseInt(a||0)};u.parseNodeText=function(a){return a&&(a.textContent||a.text||"").trim()};u.copyNodeAttribute=function(a,b,c){if(b=
b.getAttribute(a))return c.setAttribute(a,b)};return u}();p.exports=J}).call(this)},{"./ad":1,"./companionad":3,"./creative":4,"./extension":5,"./extensionchild":6,"./icon":7,"./mediafile":9,"./nonlinear":10,"./response":12,"./urlhandler":14,"./util":17,events:18}],12:[function(m,p,v){(function(){var e=function(){return function(){this.ads=[];this.errorURLTemplates=[]}}();p.exports=e}).call(this)},{}],13:[function(m,p,v){(function(){var e=function(a,c){function b(){this.constructor=a}for(var d in c)w.call(c,
d)&&(a[d]=c[d]);b.prototype=c.prototype;a.prototype=new b;a.__super__=c.prototype;return a},w={}.hasOwnProperty;var f=m("./client");var d=m("./util");var c=m("./creative").VASTCreativeLinear;var a=function(a){function b(a,b){var d;this.ad=a;this.creative=b;this.skipable=this.impressed=this.muted=!1;this.skipDelayDefault=-1;this.trackingEvents={};this.emitAlwaysEvents="creativeView start firstQuartile midpoint thirdQuartile complete resume pause rewind skip closeLinear close".split(" ");b=this.creative.trackingEvents;
for(d in b)a=b[d],this.trackingEvents[d]=a.slice(0);this.creative instanceof c?(this.setDuration(this.creative.duration),this.skipDelay=this.creative.skipDelay,this.linear=!0,this.clickThroughURLTemplate=this.creative.videoClickThroughURLTemplate,this.clickTrackingURLTemplates=this.creative.videoClickTrackingURLTemplates):(this.skipDelay=-1,this.linear=!1);this.on("start",function(){f.lastSuccessfullAd=+new Date})}e(b,a);b.prototype.setDuration=function(a){this.assetDuration=a;return this.quartiles=
{firstQuartile:25*this.assetDuration/100,midpoint:50*this.assetDuration/100,thirdQuartile:75*this.assetDuration/100}};b.prototype.setProgress=function(a){var b=null===this.skipDelay?this.skipDelayDefault:this.skipDelay;-1===b||this.skipable||(b>a?this.emit("skip-countdown",b-a):(this.skipable=!0,this.emit("skip-countdown",0)));if(this.linear&&0<this.assetDuration){b=[];if(0<a){b.push("start");var c=Math.round(a/this.assetDuration*100);b.push("progress-"+c+"%");b.push("progress-"+Math.round(a));c=
this.quartiles;for(f in c){var d=c[f];d<=a&&a<=d+1&&b.push(f)}}c=0;for(d=b.length;c<d;c++){var f=b[c];this.track(f,!0)}a<this.progress&&this.track("rewind")}return this.progress=a};b.prototype.creativeView=function(){return this.track("creativeView",!0)};b.prototype.start=function(){return this.track("start",!0)};b.prototype.firstQuartile=function(){return this.track("firstQuartile",!0)};b.prototype.midpoint=function(){return this.track("midpoint",!0)};b.prototype.thirdQuartile=function(){return this.track("thirdQuartile",
!0)};b.prototype.pause=function(){return this.track("pause")};b.prototype.resume=function(){return this.track("resume")};b.prototype.impression=function(){if(!this.impressed)return this.impressed=!0,this.trackURLs(this.ad.impressionURLTemplates)};b.prototype.errorWithCode=function(a){return this.trackURLs(this.ad.errorURLTemplates,{ERRORCODE:a})};b.prototype.complete=function(){return this.track("complete")};b.prototype.close=function(){return this.track(this.linear?"closeLinear":"close")};b.prototype.stop=
function(){};b.prototype.skip=function(){this.track("skip");return this.trackingEvents=[]};b.prototype.click=function(){var a,b;null!=(b=this.clickTrackingURLTemplates)&&b.length&&this.trackURLs(this.clickTrackingURLTemplates);if(null!=this.clickThroughURLTemplate)return b={},this.linear&&this.progress&&(b={CONTENTPLAYHEAD:this.progressFormated()}),null!=(null!=(a=this.creative.mediaFiles[0])?a.fileURL:void 0)&&(b.ASSETURI=this.creative.mediaFiles[0].fileURL),a=d.resolveURLTemplates([this.clickThroughURLTemplate],
b)[0],this.emit("clickthrough",a)};b.prototype.track=function(a,b){null==b&&(b=!1);"closeLinear"===a&&null==this.trackingEvents[a]&&null!=this.trackingEvents.close&&(a="close");var c=this.trackingEvents[a];var d=this.emitAlwaysEvents.indexOf(a);null!=c?(this.emit(a,""),this.trackURLs(c)):-1!==d&&this.emit(a,"");!0===b&&(delete this.trackingEvents[a],-1<d&&this.emitAlwaysEvents.splice(d,1))};b.prototype.trackURLs=function(a,b){var c;b={};this.linear&&this.progress&&(b.CONTENTPLAYHEAD=this.progressFormated());
null!=(null!=(c=this.creative.mediaFiles[0])?c.fileURL:void 0)&&(b.ASSETURI=this.creative.mediaFiles[0].fileURL);return d.track(a,b)};b.prototype.progressFormated=function(){var a=parseInt(1E3*this.progress%1E3);var b=parseInt(this.progress%60);var c=parseInt(this.progress/60%60);var d=parseInt(this.progress/3600%24);return(10>d?"0"+d:d)+":"+(10>c?"0"+c:c)+":"+(10>b?"0"+b:b)+"."+(10>a?"00"+a:100>a?"0"+a:a)};return b}(m("events").EventEmitter);p.exports=a}).call(this)},{"./client":2,"./creative":4,
"./util":17,events:18}],14:[function(m,p,v){(function(){var e=m("./urlhandlers/xmlhttprequest");var w=m("./urlhandlers/flash");var f=function(){function d(){}d.get=function(c,a,b){b||("function"===typeof a&&(b=a),a={});return null!=a.response?(c="string"===typeof a.response?(new DOMParser).parseFromString(a.response,"text/xml"):a.response,delete a.response,b(null,c)):a.urlhandler&&a.urlhandler.supported()?a.urlhandler.get(c,a,b):e.supported()?e.get(c,a,b):w.supported()?w.get(c,a,b):b(Error("Current context is not supported by any of the default URLHandlers. Please provide a custom URLHandler"))};
return d}();p.exports=f}).call(this)},{"./urlhandlers/flash":15,"./urlhandlers/xmlhttprequest":16}],15:[function(m,p,v){(function(){var e=function(){function e(){}e.xdr=function(){var f;window.XDomainRequest&&(f=new XDomainRequest);return f};e.supported=function(){return!!this.xdr()};e.get=function(f,d,c){var a;if(a="function"===typeof window.ActiveXObject?new window.ActiveXObject("Microsoft.XMLDOM"):void 0)a.async=!1;else return c(Error("FlashURLHandler: Microsoft.XMLDOM format not supported"));
var b=this.xdr();b.open("GET",f);b.timeout=d.timeout||0;b.withCredentials=d.withCredentials||!1;b.send();b.onprogress=function(){};return b.onload=function(){a.loadXML(b.responseText);return c(null,a)}};return e}();p.exports=e}).call(this)},{}],16:[function(m,p,v){(function(){var e=function(){function e(){}e.xhr=function(){var f=new window.XMLHttpRequest;if("withCredentials"in f)return f};e.supported=function(){return!!this.xhr()};e.get=function(f,d,c){if("https:"===window.location.protocol&&0===
f.indexOf("http://"))return c(Error("XHRURLHandler: Cannot go from HTTPS to HTTP."));try{var a=new window.XMLHttpRequest;a.open("GET",f);a.timeout=d.timeout||0;a.withCredentials=d.withCredentials||!1;a.overrideMimeType&&a.overrideMimeType("text/xml");a.ontimeout=function(){return c(Error("Vast Response Timeout"))};a.onload=function(){return c(null,a.responseXML)};a.onerror=function(){if(a.withCredentials){var b=new window.XMLHttpRequest;b.open("GET",f);b.timeout=d.timeout||0;b.withCredentials=!1;
b.overrideMimeType&&b.overrideMimeType("text/xml");b.ontimeout=function(){return c(Error("Vast Response Timeout"))};b.onload=function(){return c(null,b.responseXML,!0)};b.onerror=function(){return c(Error("XHRURLHandler: "+b.statusText))};return b.send()}return c(Error("XHRURLHandler: "+a.statusText))};return a.send()}catch(b){return c(Error("XHRURLHandler: Unexpected error"))}};return e}();p.exports=e}).call(this)},{}],17:[function(m,p,v){(function(){var e=function(){function e(){}e.track=function(f,
d){var c;d=this.resolveURLTemplates(f,d);var a=[];var b=0;for(c=d.length;b<c;b++)if(f=d[b],"undefined"!==typeof window&&null!==window){var e=new Image;a.push(e.src=f)}return a};e.resolveURLTemplates=function(e,d){var c,a,b,f;null==d&&(d={});var n=[];null!=d.ASSETURI&&(d.ASSETURI=this.encodeURIComponentRFC3986(d.ASSETURI));null!=d.CONTENTPLAYHEAD&&(d.CONTENTPLAYHEAD=this.encodeURIComponentRFC3986(d.CONTENTPLAYHEAD));d.ERRORCODE&&/^[0-9]{3}$/.test(d.ERRORCODE)||(d.ERRORCODE=900);d.CACHEBUSTING=this.leftpad(Math.round(1E8*
Math.random()).toString());d.TIMESTAMP=this.encodeURIComponentRFC3986((new Date).toISOString());d.RANDOM=d.random=d.CACHEBUSTING;var t=0;for(b=e.length;t<b;t++)if(f=c=e[t]){for(a in d){var m=d[a];c="["+a+"]";var p="%%"+a+"%%";f=f.replace(c,m);f=f.replace(p,m)}-1===f.indexOf("?")&&(f+="?");f=f.indexOf("?")===f.length-1?f.replace("?","?cbmmmm="+this.leftpad(Math.round(1E8*Math.random()).toString())):f.replace("?","?cbmmmm="+this.leftpad(Math.round(1E8*Math.random()).toString())+"&");n.push(f)}return n};
e.encodeURIComponentRFC3986=function(f){return encodeURIComponent(f).replace(/[!'()]/g,escape).replace(/\*/g,"%2A")};e.leftpad=function(f){return 8>f.length?"00000000".substring(0,8-f.length)+f:f};e.storage=function(){try{var f="undefined"!==typeof window&&null!==window?window.localStorage||window.sessionStorage:null}catch(a){f=null}var d=function(a){try{if(a.setItem("__VASTUtil__","__VASTUtil__"),"__VASTUtil__"!==a.getItem("__VASTUtil__"))return!0}catch(b){return!0}return!1};if(null==f||d(f)){var c=
{};f={length:0,getItem:function(a){return c[a]},setItem:function(a,b){c[a]=b;this.length=Object.keys(c).length},removeItem:function(a){delete c[a];this.length=Object.keys(c).length},clear:function(){c={};this.length=0}}}return f}();return e}();p.exports=e}).call(this)},{}],18:[function(m,p,v){function e(){this._events=this._events||{};this._maxListeners=this._maxListeners||void 0}function w(d){return"function"===typeof d}function f(d){return"object"===typeof d&&null!==d}p.exports=e;e.EventEmitter=
e;e.prototype._events=void 0;e.prototype._maxListeners=void 0;e.defaultMaxListeners=10;e.prototype.setMaxListeners=function(d){if("number"!==typeof d||0>d||isNaN(d))throw TypeError("n must be a positive number");this._maxListeners=d;return this};e.prototype.emit=function(d){var c;this._events||(this._events={});if("error"===d&&(!this._events.error||f(this._events.error)&&!this._events.error.length)){var a=arguments[1];if(a instanceof Error)throw a;var b=Error('Uncaught, unspecified "error" event. ('+
a+")");b.context=a;throw b;}b=this._events[d];if(void 0===b)return!1;if(w(b))switch(arguments.length){case 1:b.call(this);break;case 2:b.call(this,arguments[1]);break;case 3:b.call(this,arguments[1],arguments[2]);break;default:a=Array.prototype.slice.call(arguments,1),b.apply(this,a)}else if(f(b)){a=Array.prototype.slice.call(arguments,1);var e=b.slice();b=e.length;for(c=0;c<b;c++)e[c].apply(this,a)}return!0};e.prototype.addListener=function(d,c){if(!w(c))throw TypeError("listener must be a function");
this._events||(this._events={});this._events.newListener&&this.emit("newListener",d,w(c.listener)?c.listener:c);this._events[d]?f(this._events[d])?this._events[d].push(c):this._events[d]=[this._events[d],c]:this._events[d]=c;f(this._events[d])&&!this._events[d].warned&&(c=void 0!==this._maxListeners?this._maxListeners:e.defaultMaxListeners)&&0<c&&this._events[d].length>c&&(this._events[d].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",
this._events[d].length),"function"===typeof console.trace&&console.trace());return this};e.prototype.on=e.prototype.addListener;e.prototype.once=function(d,c){function a(){this.removeListener(d,a);b||(b=!0,c.apply(this,arguments))}if(!w(c))throw TypeError("listener must be a function");var b=!1;a.listener=c;this.on(d,a);return this};e.prototype.removeListener=function(d,c){if(!w(c))throw TypeError("listener must be a function");if(!this._events||!this._events[d])return this;var a=this._events[d];
var b=a.length;var e=-1;if(a===c||w(a.listener)&&a.listener===c)delete this._events[d],this._events.removeListener&&this.emit("removeListener",d,c);else if(f(a)){for(;0<b--;)if(a[b]===c||a[b].listener&&a[b].listener===c){e=b;break}if(0>e)return this;1===a.length?(a.length=0,delete this._events[d]):a.splice(e,1);this._events.removeListener&&this.emit("removeListener",d,c)}return this};e.prototype.removeAllListeners=function(d){if(!this._events)return this;if(!this._events.removeListener)return 0===
arguments.length?this._events={}:this._events[d]&&delete this._events[d],this;if(0===arguments.length){for(c in this._events)"removeListener"!==c&&this.removeAllListeners(c);this.removeAllListeners("removeListener");this._events={};return this}var c=this._events[d];if(w(c))this.removeListener(d,c);else if(c)for(;c.length;)this.removeListener(d,c[c.length-1]);delete this._events[d];return this};e.prototype.listeners=function(d){return this._events&&this._events[d]?w(this._events[d])?[this._events[d]]:
this._events[d].slice():[]};e.prototype.listenerCount=function(d){if(this._events){d=this._events[d];if(w(d))return 1;if(d)return d.length}return 0};e.listenerCount=function(d,c){return d.listenerCount(c)}},{}]},{},[8])(8)});
(function(){function A(c){return null==c||0===c.length}function m(c){var a=this;a.params=c;a.p={};a._={};a.swf=null;a.swfReady=!1;a.version="1.0.0";a.onAdRequest=function(a,c){};a.onAdLoaded=function(a){};a.onAdStarted=function(){};a.onNoAd=function(a){};a.onUnsupportedMedia=function(a){};a.onAdError=function(a){};a.onAdImpression=function(){};a.onAdClickThru=function(a){};a.onAdComplete=function(){};a.onAdTimeout=function(){};a.onAdSkipped=function(){};a.onPrefetch=function(a,c){};a.onFlashCrash=
function(){};a.onInitAd=function(){};a.onStartAd=function(){};a.onAdVideoStart=function(){};a.onAdVideoFirstQuartile=function(){};a.onAdVideoMidpoint=function(){};a.onAdVideoThirdQuartile=function(){};a.onAdVideoComplete=function(){};a.onAdView=function(){};a.chain=function(){function b(a,d){c[d]||(c[d]=[]);var e=a.querySelectorAll("[src]"),f=a.getElementsByTagName("iframe");for(a=0;a<e.length;++a)"about:blank"!=e[a].src&&c[d].push(e[a].src);for(a=0;a<f.length;++a)try{f[a].contentWindow.drill=b,f[a].contentWindow.drill(f[a].contentWindow.document,
d+1)}catch(K){}}if(a._.obj&&"flash"==a._.mediaType)return[a._.vastChain,a._.obj.chain?a._.obj.chain():void 0];var c=[];return a._.obj&&"javascript"==a._.mediaType?(b(a._.obj,0),[a._.vastChain,c]):[a._.vastChain,null]};a.bb=function(){return a._.obj&&a._.obj.bb?a._.obj.bb():void 0};a.sendClick=function(b,c){function d(a){a=a.elementFromPoint(b,c);if("IFRAME"!=a.tagName)a.click();else try{a.contentWindow.drill=d,a.contentWindow.drill(a.contentWindow.document)}catch(C){}}if(a._.obj){if("video"==a._.mediaType)return a._.obj.click();
if("flash"==a._.mediaType)return a._.obj.sendClick?a._.obj.sendClick(b,c):void 0;if(a._.objFrame)return d(a._.objFrame.contentWindow.document)}};a.startAd=function(){if(!a._.obj)return console.error("There is no ad loaded");a.params.adViewTimeout&&(a._.adViewTimeout=setTimeout(function(){a.stop(a.onAdTimeout)},a.params.adViewTimeout));a.params.endTimeout&&(a._.endTimeoutElapsed=0,a._.endTimeoutTimestamp=(new Date).getTime(),a._.endTimeout=setTimeout(function(){a.stop(a.onAdTimeout)},a.params.endTimeout));
a.onStartAd();"video"!=a._.mediaType?a._.obj.exec("startAd",[]):a._.obj.play&&a._.obj.play();a._.gififyStart?a._.gififyStart():a._.gififyStart=!0};a.pause=function(b){null!=a._.obj&&("video"!=a._.mediaType&&null!=a._.obj.exec?a._.obj.exec("pauseAd",[]):"video"==a._.mediaType&&null!=a._.obj.pause&&a._.obj.pause(),a._.endTimeoutTimestamp&&b&&(a._.endTimeoutElapsed+=(new Date).getTime()-a._.endTimeoutTimestamp,a._.endTimeoutTimestamp=0,clearTimeout(a._.endTimeout)))};a.resume=function(){null!=a._.obj&&
("video"!=a._.mediaType&&null!=a._.obj.exec?a._.obj.exec("resumeAd",[]):"video"==a._.mediaType&&a._.obj.play(),0===a._.endTimeoutTimestamp&&(a._.endTimeoutTimestamp=(new Date).getTime(),a._.endTimeout=setTimeout(function(){a.stop(a.onAdTimeout)},a.params.endTimeout-a._.endTimeoutElapsed)))};a.stop=function(b){if(void 0===a._.obj)return b?b.call(a):null;null===a._.obj?a._.stopCB=b||function(){}:a._.stopCallback||(clearTimeout(a._.adLoadedTimeout),clearTimeout(a._.adViewTimeout),clearTimeout(a._.combinedTimeout),
clearTimeout(a._.endTimeout),"video"!=a._.mediaType&&(a._.stopCallback=b||function(){},a._.stopTimeout=setTimeout(function(){"flash"==a._.mediaType?a.swf.memory()>=p?(a.swfReady=!1,a.swf.parentNode.removeChild(a.swf),delete a.swf):(a.swf.reset(),a.swf.width="0",a.swf.height="0"):a._.obj.parentNode.removeChild(a._.obj);delete a._.obj;a._.stopCallback.call(a);delete a._.stopCallback},3E3)),"video"!=a._.mediaType&&null!=a._.obj.exec?a._.obj.exec("stopAd",[]):"video"==a._.mediaType&&(a._.obj.parentNode.removeChild(a._.obj),
delete a._.obj,b&&b.call(a)))};a.terminate=function(){var b=a.swf;a.swf&&(a.swfReady=!1,a.swf.parentNode.removeChild(a.swf),delete a.swf);null!=a._.obj&&(b!=a._.obj&&a._.obj.parentNode.removeChild(a._.obj),delete a._.obj);a._.terminated=!0;clearTimeout(a._.adLoadedTimeout);clearTimeout(a._.adViewTimeout);clearTimeout(a._.combinedTimeout);clearTimeout(a._.endTimeout)};a.playEnded=function(){var b=a._.obj;"flash"==a._.mediaType?b.memory()>=p?(a.swfReady=!1,a.swf.parentNode.removeChild(a.swf),delete a.swf):
(b.reset(),b.width="0",b.height="0"):(b.style.display="none",b.removeAttribute("id"),setTimeout(function(){b&&b.parentNode&&b.parentNode.removeChild(b)},3E3));delete a._.obj};a.gififyPlay=function(b,c){var d=a._.obj;b.autoplay=!0;b.setAttribute("autoplay","");b.seekable={length:0};b.seeking=!1;b.networkState=1;b.playbackRate=1;b.readyState=4;b.ended=!1;b.paused=!1;b.played={length:0,start:function(){return 0},end:function(){return b.currentTime}};b.buffered={length:1,start:function(){return 0},end:function(){return b.duration}};
b.pause=function(){a.params.gififyPauseEnabled&&!b.paused&&(b.paused=!0,b.dispatchEvent(new Event("pause")))};b.play=function(){if(b.hasStarted)a.params.gififyPauseEnabled&&b.paused&&(b.paused=!1,b.dispatchEvent(new Event("play")),b.dispatchEvent(new Event("playing")));else{b.hasStarted=!0;if(!b.src)if(b.getAttribute("src"))b.src=b.getAttribute("src");else if(0<b.getElementsByTagName("source").length)b.src=b.getElementsByTagName("source")[0].src;else return c();var f=a.params.gififyFPS,e=new XMLHttpRequest;
e.open("GET",a.params.gififyServer+"?w="+a.params.width+"&h="+a.params.height+"&fps="+f+"&q="+a.params.gififyQuality+"&url="+encodeURIComponent(b.src),!0);e.timeout=3E4;e.ontimeout=c;e.onerror=c;e.onload=function(){function q(c){var e=(new Date).getTime();p||(p=e);if(a._.obj!=d||b.ended)clearInterval(v);else{if(a.params.gififyPauseEnabled&&b.paused)p=e;else{var g=e-p;if(g>k){m+=Math.floor(g*f/1E3);if(m>=n.length){b.ended=!0;b.currentTime=b.duration;b.dispatchEvent(new Event("timeupdate"));b.dispatchEvent(new Event("paused"));
b.dispatchEvent(new Event("ended"));clearInterval(v);return}t.src="data:image/jpg;base64,"+n[m];p=e;b.currentTime=b.duration*m/n.length;b.dispatchEvent(new Event("timeupdate"))}}null!=c&&window.requestAnimationFrame(q)}}if(200!=e.status)return c();var n=e.responseText.split("\n");b.currentSrc=b.src;b.duration=n.length/f;var m=-1,k=1E3/f,t=document.createElement("img"),p=0,v=0;b.appendChild(t);a._.gififyStart?(v=setInterval(q,1E3),window.requestAnimationFrame(q)):a._.gififyStart=function(){v=setInterval(q,
1E3);window.requestAnimationFrame(q)};b.dispatchEvent(new Event("durationchange"))};e.send()}};(function C(){a._.obj==d&&((b.src||0<b.getElementsByTagName("source").length)&&!b.hasStarted?b.play():setTimeout(C,1E3))})()};a.playVast=function(b){function c(b,c,q,m){a.onAdRequest(!!q,!!b);delete a._.obj;if(!a._.terminated){if(a._.stopCB)return a._.stopCB.call(a);a._.vastChain=m;if(b)return a.onAdError(b);if(null==c||A(c.ads)||A(c.ads[0].creatives))return a.onNoAd("No ad found");b=null;for(q=0;q<c.ads[0].creatives.length;++q)if(m=
c.ads[0].creatives[q],!A(m.mediaFiles)&&"linear"==m.type){b=m;break}if(null==b)return a.onNoAd("No linear creative found");var p=a._.mediaType=null,n={};a._.clickThruURL=b.videoClickThroughURLTemplate;b.mediaFiles.forEach(function(b){if(null!=b.mimeType){var c=b.mimeType.toLowerCase();if(-1!=c.indexOf("flash")||-1!=c.indexOf("video/")&&-1!=c.indexOf("flv"))a.swfReady&&!a.params.noFlash&&(null==a._.mediaType||"javascript"==a._.mediaType&&a.params.preferFlash||"flash"==a._.mediaType&&!a._.flv&&-1!=
c.indexOf("flv"))&&(p=b.fileURL,a._.mediaType="flash",a._.flv=-1!=c.indexOf("flv"));else if(-1!=c.indexOf("javascript")){if(null==a._.mediaType||"flash"==a._.mediaType&&!a.params.preferFlash)p=b.fileURL,a._.mediaType="javascript"}else if(0===c.indexOf("video/")){a._.mediaType="video";null==n[c]&&(n[c]={});var d=Math.abs(b.height-a.params.height)+Math.abs(b.width-a.params.width);if(null==n[c].diff||d<n[c].diff)n[c].diff=d,n[c].url=b.fileURL}}});if(null==a._.mediaType||"video"!=a._.mediaType&&!p)return a.onUnsupportedMedia();
if(a.params.prefetch)return a.onPrefetch(a._.mediaType,c);a._.tracker=new window.DMVAST.tracker(c.ads[0],b);a._.adParameters=b.adParameters;a.params.combinedTimeout&&(a._.combinedTimeout=setTimeout(function(){a.stop(a.onAdTimeout)},a.params.combinedTimeout));a.params.adLoadedTimeout&&(a._.adLoadedTimeout=setTimeout(function(){a.stop(a.onAdTimeout)},a.params.loadedTimeout));var k=null;if("flash"==a._.mediaType){if(!a.swfReady)return a.onAdError("SWF player called before ready");a.swf.width=a.params.width;
a.swf.height=a.params.height;f[a.swf.id]=a;a._.obj=a.swf;a.params.noBlink||v||w||e||function x(){a.swf&&a._.obj==a.swf&&!a._.hadQuartile&&(setTimeout(x,1E3),a.swf.style["margin-top"]=a.params.height+"px",setTimeout(function(){a.swf&&(a.swf.style["margin-top"]="0")},10))}();setTimeout(function(){a.swf&&(a._.flv?(a.swf.flv(p),a.swf.onmousedown=function(){d.AdClickThru(a.swf,{url:a._.clickThruURL,id:(new Date).getTime(),playerHandles:!0})}):a.swf.run(p))},100)}else if("javascript"==a._.mediaType){var t=
"AdLoaded AdStarted AdImpression AdVideoStart AdVideoFirstQuartile AdVideoMidpoint AdVideoThirdQuartile AdVideoComplete AdPaused AdPlaying AdStopped AdSkipped AdLog AdError AdVolumeChange".split(" ");k=document.createElement("div");k.id=a.params.id+"_obj";k.className="x-player-element";k.style.width=a.params.width+"px";k.style.height=a.params.height+"px";k.style.overflow="hidden";k.style.position="relative";var u=document.createElement("iframe");u.className="x-player-element";u.frameBorder="0";u.marginWidth=
"0";u.marginHeight="0";u.src="about:blank";u.setAttribute("src","about:blank");u.setAttribute("scrolling","no");u.style.margin="0px";u.style.padding="0px";u.style.border="0px";u.style.width="100%";u.style.height="100%";u.style.position="absolute";u.style.overflow="hidden";var C=document.createElement("div");C.id="slot";var g=a.params.gifify?document.createElement("div"):document.createElement("video");g.className="x-player-element";g.volume=0;g.playsinline=!0;g.setAttribute("playsinline","");g.muted=
!0;g.setAttribute("muted","");g.autoplay=!0;g.setAttribute("autoplay","");g.style.position="absolute";g.preload="auto";g.setAttribute("preload","auto");g.controls=!1;g.loop=!1;g.width=a.params.width;g.height=a.params.height;k.appendChild(g);k.appendChild(u);var y=document.createElement("script");y.type="text/javascript";y.src=p;y.onerror=function(){d.AdError(k)};y.onload=function(){try{var b=u.contentWindow.getVPAIDAd();try{b.setAdVolume(.001)}catch(x){}(function l(){try{if(a._.obj==k){setTimeout(l,
500);for(var c=k.getElementsByTagName("video"),d=0;d<c.length;++d)c[d].muted=!0,c[d].setAttribute("muted","");b.setAdVolume(0)}}catch(I){}})();a.params.noBlink||a.params.noFlash||v||w||e||function H(){a._.obj!=k||a._.hadQuartile||(setTimeout(H,1E3),k.style["margin-top"]=a.params.height+"px",setTimeout(function(){k.style["margin-top"]="0"},10))}();a.params.gifify&&a.gififyPlay(g,function(){d.AdError(k)});b.subscribe(function(a,b,c){d.AdClickThru(k,{url:a,id:b,playerHandles:c})},"AdClickThru");t.forEach(function(a){b.subscribe(function(b){d[a](k,
b)},a)});b.handshakeVersion("2.0");k.bb=function(){for(var b=null,c=a.chain()[1]||[],d=c.length-1;0<=d;--d)for(var e=c[d],f=e.length-1;0<=f;--f)if(-1!=e[f].indexOf(".mp4")||-1!=e[f].indexOf(".MP4")||(-1!=e[f].indexOf(".mov")||-1!=e[f].indexOf(".MOV"))&&-1==e[f].indexOf(".movie")&&-1==e[f].indexOf(".MOVIE"))b=e[f];else if(-1!=e[f].indexOf(".flv")||-1!=e[f].indexOf(".FLV")){b=e[f];break}return b};k.exec=function(a,c){try{b[a].apply(b,c)}catch(I){d.AdError(k)}};a.onInitAd();b.initAd(g.width,g.height,
"normal",-1,{AdParameters:a._.adParameters||""},{slot:C,videoSlot:g,videoSlotCanAutoPlay:!0})}catch(x){d.AdError(k)}};f[k.id]=a;a._.obj=k;a._.objFrame=u;setTimeout(function(){a.playerElement.appendChild(k);setTimeout(function(){u.contentDocument&&(u.contentDocument.write("<html><head></head><body></body></html>"),u.contentDocument.body.appendChild(C),u.contentDocument.body.appendChild(y))},100)},100)}else if("video"==a._.mediaType){k=a.params.gifify?document.createElement("div"):document.createElement("video");
k.volume=0;k.muted=!0;k.setAttribute("muted","");k.preload="auto";k.setAttribute("preload","auto");k.controls=!1;k.loop=!1;k.id=a.params.id+"_obj";k.className="x-player-element";k.width=a.params.width;k.height=a.params.height;k.style.cursor="pointer";var z=function(b){a._[b]||(a._[b]=!0,a[b]())};a._.clickThruURL&&(k.onclick=function(){window.open(a._.clickThruURL,"_blank");a._.tracker.click();a.onAdClickThru(a._.clickThruURL,(new Date).getTime(),!1)});var D=Object.keys(n).sort(function(a,b){return-1!=
a.indexOf("mp4")||-1!=a.indexOf("m4v")||-1!=a.indexOf("m4a")||-1!=a.indexOf("m4p")||-1!=a.indexOf("m4r")||-1!=a.indexOf("m4b")?-1:-1!=b.indexOf("mp4")||-1!=b.indexOf("m4v")||-1!=b.indexOf("m4a")||-1!=b.indexOf("m4p")||-1!=b.indexOf("m4r")||-1!=b.indexOf("m4b")?1:-1!=a.indexOf("webm")?-1:-1!=b.indexOf("webm")?1:-1!=a.indexOf("3gp")?-1:-1!=b.indexOf("3gp")?1:-1!=a.indexOf("mov")?-1:-1!=b.indexOf("mov")?1:-1});k.bb=function(){return n[D[0]].url};a.params.gifify?k.src=n[D[0]].url:D.forEach(function(a){var b=
document.createElement("source");b.type=a;b.src=n[a].url;k.appendChild(b)});k.addEventListener("error",function(){var b=a._.tracker;clearTimeout(a._.adLoadedTimeout);clearTimeout(a._.adViewTimeout);clearTimeout(a._.combinedTimeout);clearTimeout(a._.endTimeout);a._.obj&&(a._.obj.parentNode.removeChild(a._.obj),delete a._.obj,b.errorWithCode(),a.onAdError())});k.addEventListener("play",function(){a._.hadRevenue&&a._.tracker.resume()});k.addEventListener("pause",function(){k.duration!=k.currentTime&&
a._.tracker.pause()});k.addEventListener("durationchange",function(){a._.tracker.setDuration(k.duration);a._.duration=k.duration});k.addEventListener("timeupdate",function(){var b=a._.tracker;clearTimeout(a._.adViewTimeout);clearTimeout(a._.combinedTimeout);a._.hadRevenue||(a._.hadRevenue=!0,b.creativeView(),a.onAdStarted(),b.impression(),a.onAdImpression(),a.onAdView());b.setProgress(k.currentTime);a._.duration&&(b=Math.round(k.currentTime/a._.duration*100),0<=b&&z("onAdVideoStart"),25<=b&&z("onAdVideoFirstQuartile"),
50<=b&&z("onAdVideoMidpoint"),75<=b&&z("onAdVideoThirdQuartile"),99<=b&&z("onAdVideoComplete"))});k.addEventListener("ended",function(){var b=a._.tracker;clearTimeout(a._.adLoadedTimeout);clearTimeout(a._.adViewTimeout);clearTimeout(a._.combinedTimeout);clearTimeout(a._.endTimeout);a._.obj&&(b.complete(),a._.obj.parentNode.removeChild(a._.obj),delete a._.obj,a.onAdComplete())});a._.obj=k;a.playerElement.appendChild(k);a.params.gifify&&a.gififyPlay(a._.obj,function(){a._.obj.dispatchEvent(new Event("error"))});
a.onInitAd();clearTimeout(a._.adLoadedTimeout);a.onAdLoaded(a._.mediaType)}}}b?c(null,b,!1):window.DMVAST.client.get(a.params.tag,{withCredentials:a.params.withCredentials,timeout:1E4,response:a.params.tagInline},c)};a.loadAd=function(){if(a._.terminated)return console.error("The player has been terminated and cannot be started");if(void 0!==a._.obj)return console.error("Cannot start playing before a previous play has been stopped");a._={};a._.obj=null;a.swf&&(a.swf.onmousedown="");if(null==a.params.id||
null==a.params.width||null==a.params.height||null==a.params.tag&&!a.params.tagInline&&!a.params.prefetched||!a.params.noFlash&&(null==a.params.swfWaitingTime||null==a.params.swfPlayer)||a.params.gifify&&!(a.params.gififyServer&&a.params.gififyFPS&&a.params.gififyQuality))return console.error("Failed to start player, some required parameters are missing.");var b=null!=a.params.element?a.params.element:document.getElementById(a.params.id);if(null==b)return console.error("Could not find element with id: "+
a.params.id);""===b.className?b.className="x-player-element":-1==b.className.indexOf("x-player-element")&&(b.className+=" x-player-element");b.style.background="black";b.style.overflow="hidden";b.style.width=a.params.width;b.style.height=a.params.height;f[a.params.id]=a;a.playerElement=b;if(null!=a.swf||a.params.noFlash||a.params.prefetch)a.playVast(a.params.prefetched);else{var c=document.createElement("object");c.id=a.params.id+"_swf";c.name=a.params.id+"_swf";c.width=e?"0":a.params.width;c.height=
e?"0":a.params.height;c.className="x-player-element";c.type="application/x-shockwave-flash";c.data=a.params.swfPlayer;b=document.createElement("param");b.name="allowScriptAccess";b.value="always";c.appendChild(b);b=document.createElement("param");b.name="bgcolor";b.value="#000000";c.appendChild(b);b=document.createElement("param");b.name="wmode";b.value="window";c.appendChild(b);b=document.createElement("param");b.name="hasPriority";b.value="true";c.appendChild(b);b=document.createElement("param");
b.name="seamlesstabbing";b.value="true";c.appendChild(b);b=document.createElement("param");b.name="menu";b.value="false";c.appendChild(b);f[c.id]=a;a.swf=c;a.swfReady=!1;a.playerElement.appendChild(c);setTimeout(function(){c.width="0";c.height="0";a.params.noBlink||w||v||e||function t(){a.swfReady||a._.hadQuartile||(setTimeout(t,1E3),c.style["margin-top"]=a.params.height+"px",setTimeout(function(){c.style["margin-top"]="0"},10))}()},100);setTimeout(function(){a.swfReady||(a.swfReadySkip=!0,a.playVast(a.params.prefetched))},
a.params.swfWaitingTime)}}}if(!window.Npe117){document.body.style.margin="0";document.body.style.padding="0";document.documentElement.style.margin="0";document.documentElement.style.padding="0";var p=w?0:7E8,v=-1!=window.navigator.userAgent.indexOf("MSIE ")||-1!=window.navigator.userAgent.indexOf("Trident/"),e=/Edge\/\d./i.test(window.navigator.userAgent),w=-1!=window.navigator.userAgent.toLowerCase().indexOf("firefox"),f={},d={};window.Np117=function(c){return new m(c)};window.Npe117=function(c,
a,b){d[a](document.getElementById(c),b)};window.Npm117=function(c){p=w?0:c};e&&(d.AdThrottle=function(c,a){var b=f[c.id];0!==c.width&&(c.width=0,c.height=0,setTimeout(function(){c.width=b.params.width;c.height=b.params.height},1E3))});d.SWFReady=function(c,a){var b=f[c.id];b.swfVersion=b.swf&&b.swf.version?b.swf.version():void 0;b.swfReady=!0;var d=setInterval(function(){if(!b.swfReady||b._.terminated)return clearInterval(d);b.swf.exec||(clearInterval(d),b.swfReady=!1,b.swf.width="0",b.swf.height=
"0","flash"==b._.mediaType&&(b._.tracker.errorWithCode(),delete b._.obj,b.onAdError()),b.onFlashCrash())},1E3);b.swfReadySkip||b.playVast(b.params.prefetched)};d.AdError=function(c,a){c=f[c.id];var b=c._.tracker;clearTimeout(c._.adLoadedTimeout);clearTimeout(c._.adViewTimeout);clearTimeout(c._.combinedTimeout);clearTimeout(c._.endTimeout);if(c._.obj)if(b.errorWithCode(),c.playEnded(),c._.stopCallback)clearTimeout(c._.stopTimeout),c._.stopCallback.call(c),delete c._.stopCallback;else c.onAdError(a)};
d.AdReceived=function(c,a){a=f[c.id];c.width=a.params.width;c.height=a.params.height;a.onInitAd();c.exec("initAd",[c.width,c.height,"normal",-1,a._.adParameters||"",""])};d.AdLoaded=function(c,a){a=f[c.id];a._.flv&&(c.width=a.params.width,c.height=a.params.height);clearTimeout(a._.adLoadedTimeout);a.onAdLoaded(a._.flv?"flv":a._.mediaType)};d.AdStarted=function(c,a){c=f[c.id];c._.tracker.creativeView();c.onAdStarted()};d.AdImpression=function(c,a){c=f[c.id];c._.tracker.impression();c.onAdImpression(a)};
d.AdVideoStart=function(c,a){c=f[c.id];var b=c._.tracker;clearTimeout(c._.adViewTimeout);clearTimeout(c._.combinedTimeout);c._.hadRevenue||(c._.hadRevenue=!0,c.onAdView());b.start();c.onAdVideoStart(a)};d.AdVideoFirstQuartile=function(c,a){c=f[c.id];var b=c._.tracker;clearTimeout(c._.adViewTimeout);clearTimeout(c._.combinedTimeout);c._.hadQuartile=!0;c._.hadRevenue||(c._.hadRevenue=!0,c.onAdView());b.firstQuartile();c.onAdVideoFirstQuartile(a)};d.AdVideoMidpoint=function(c,a){c=f[c.id];c._.tracker.midpoint();
c.onAdVideoMidpoint(a)};d.AdVideoThirdQuartile=function(c,a){c=f[c.id];c._.tracker.thirdQuartile();c.onAdVideoThirdQuartile(a)};d.AdVideoComplete=function(c,a){if(c=f[c.id])c._.tracker.complete(),c.onAdVideoComplete(a)};d.AdPlaying=function(c,a){f[c.id]._.tracker.resume()};d.AdPaused=function(c,a){f[c.id]._.tracker.pause()};d.AdSkipped=function(c,a){c=f[c.id];var b=c._.tracker;clearTimeout(c._.adLoadedTimeout);clearTimeout(c._.adViewTimeout);clearTimeout(c._.combinedTimeout);clearTimeout(c._.endTimeout);
if(c._.obj)if(b.skip(),c.playEnded(),c._.stopCallback)clearTimeout(c._.stopTimeout),c._.stopCallback.call(c),delete c._.stopCallback;else c.onAdSkipped(a)};d.AdStopped=function(c,a){if(c=f[c.id])if(clearTimeout(c._.adLoadedTimeout),clearTimeout(c._.adViewTimeout),clearTimeout(c._.combinedTimeout),clearTimeout(c._.endTimeout),c._.obj)if(c.playEnded(),c._.stopCallback)clearTimeout(c._.stopTimeout),c._.stopCallback.call(c),delete c._.stopCallback;else if(c._.hadRevenue)c.onAdComplete(a);else c.onAdError(a)};
d.AdClickThru=function(c,a){c=f[c.id];var b=c._.tracker,d=a.url||c._.clickThruURL;d&&a.playerHandles&&window.open(d,"_blank");b.click();c.onAdClickThru(d,a.id,!1)};d.AdLog=function(c,a){};d.AdVolumeChange=function(c,a){}}})();
